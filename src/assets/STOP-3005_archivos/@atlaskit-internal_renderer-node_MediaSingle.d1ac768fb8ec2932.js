try{window.performance.mark("@atlaskit-internal_renderer-node_MediaSingle.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-internal_renderer-node_MediaSingle"],{CzTa:function(t,n,i){"use strict";i.d(n,"b",(function(){return c})),i.d(n,"a",(function(){return l})),i.d(n,"c",(function(){return u})),i.d(n,"d",(function(){return h}));var r=i("q1tI");const a=["confluence","jira"],o={confluence:{newCardExperience:"confluence.frontend.media.cards.new.experience",captions:"confluence.frontend.fabric.editor.media.captions",mediaInline:"confluence.frontend.fabric.editor.media.inline",folderUploads:"confluence.frontend.media.picker.folder.uploads",observedWidth:"",timestampOnVideo:"confluence.frontend.media.timestamp.on.video",mediaUploadApiV2:"confluence.enable.media.upload.api.v2",memoryCacheLogging:"confluence-frontend-media-card-memory-cache-logging",fetchFileStateAfterUpload:"confluence-frontend-media-client-fetch-file-state-after-upload"},jira:{
newCardExperience:"issue.details.media-cards-new-experience",captions:"issue.details.editor.media.captions",mediaInline:"",folderUploads:"issue.details.media-picker-folder-upload",observedWidth:"",timestampOnVideo:"issue.details.media-cards-timestamp-on-video",mediaUploadApiV2:"issue.details.enable-media-upload-api-version-2",memoryCacheLogging:"jira-frontend-media-card-memory-cache-logging",fetchFileStateAfterUpload:"jira-frontend-media-client-fetch-file-state-after-upload"}},d=()=>o,c=e=>Object.entries(e).filter((([e,t])=>!!t)).map((([e])=>e)),l=e=>{const t=c(e),n=[];return t.forEach((e=>a.forEach((t=>n.push(d()[t][e]))))),n.filter((e=>""!==e))},s={newCardExperience:!1,captions:!1,mediaInline:!1,folderUploads:!1,observedWidth:!1,timestampOnVideo:!1,mediaUploadApiV2:!0,memoryCacheLogging:!1,fetchFileStateAfterUpload:!1};function u(t,n){const i=(t=>{try{return"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(t):null}catch(e){}return null})(t);if(null!==i)try{
return JSON.parse(i)}catch(e){}return n&&t in n?n[t]:s[t]}const h=e=>{const t=Object(r.useRef)();return((e,t)=>{if(!e&&!t)return!0;if(!e||!t)return!1;const n={newCardExperience:e.newCardExperience===t.newCardExperience,captions:e.captions===t.captions,mediaInline:e.mediaInline===t.mediaInline,folderUploads:e.folderUploads===t.folderUploads,observedWidth:e.observedWidth===t.observedWidth,timestampOnVideo:e.timestampOnVideo===t.timestampOnVideo,mediaUploadApiV2:e.mediaUploadApiV2===t.mediaUploadApiV2,memoryCacheLogging:e.memoryCacheLogging===t.memoryCacheLogging,fetchFileStateAfterUpload:e.fetchFileStateAfterUpload===t.fetchFileStateAfterUpload};return Object.values(n).every((e=>e))})(e,t.current)||(t.current=e),t.current}},KDJI:function(e,t,n){"use strict";n.r(t),n.d(t,"getMediaContainerWidth",(function(){return f}));var i=n("q1tI"),r=n.n(i);let a;const o=new WeakMap;const d={name:"1a43hhz",styles:"transition:all 0.1s linear"},c={name:"1abqfmo",
styles:"margin-left:50%;transform:translateX(-50%)"},l=250,s=200,u=e=>{if(!e)return!1;const{nodeType:t,type:n}=e.props||{};return"media"===t||["external","file","link"].indexOf(n)>=0},h=e=>{const[t]=r.a.Children.toArray(e);return t&&!u(t)&&t.props.children?h(t.props.children):t},f=(e,t)=>e||"full-width"===t||"wide"===t?e:n("9cwX").i;t.default=Object(n("o5hF").c)((e=>{var t;const{rendererAppearance:p,featureFlags:m,isInsideOfBlockNode:g,layout:w,children:b,width:x}=e,y=Object(n("CzTa").c)("captions",m),[v,j]=r.a.useState({width:0,height:0}),O=r.a.useRef(null),k=r.a.useCallback((({width:e,height:t})=>{j({width:e,height:t})}),[]),A=Object(n("CzTa").c)("observedWidth",m),{width:C}=((e,t)=>{const[n,i]=r.a.useState({x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0});return r.a.useEffect((()=>{if(e&&t)return a||(a=new ResizeObserver((e=>{for(let t of e)o.has(t.target)&&o.get(t.target)(t.contentRect)}))),o.set(e,(e=>{const{x:t,y:n,width:r,height:a,top:o,left:d,bottom:c,right:l}=e
;return i({x:t,y:n,width:r,height:a,top:o,left:d,bottom:c,right:l})})),a.observe(e),()=>{a.unobserve(e),o.delete(e)}}),[e,t]),n})(null===(t=O.current)||void 0===t?void 0:t.parentElement,A);let F;const[S,W]=r.a.Children.toArray(b);if(u(S))F=S;else{const e=h(S.props.children);if(!e)return S;F=e}let{width:E=l,height:U=s,type:I}=F.props;if("external"===I){const{width:e,height:t}=v;null===E&&(E=e||l),null===U&&(U=t||s)}null===E&&(E=l,U=s);const M="full-page"===p?64:0,z="full-width"===p,L={height:U,width:E},V=(e,t)=>{const{cardDimensions:a,lineLength:o,containerWidth:l}=((e,t)=>{const i=f(e,w),r={width:`${i}px`,height:U/E*i+"px"};let a=i;g||"comment"===p||(a=i-M>=n("9cwX").i?n("9cwX").i:i-M);const o=Math.min(n("9cwX").s,i-M);return{cardDimensions:r,lineLength:z?o:a,containerWidth:i}})(e),s=r.a.cloneElement(F,{resizeMode:"stretchy-fit",cardDimensions:a,originalDimensions:L,onExternalImageLoaded:k,disableOverlay:!0,featureFlags:m}),u="full-width"===w||"wide"===w?[d,c]:[d]
;return Object(n("AeFk").jsx)(n("zaYB").c,{css:u,handleMediaSingleRef:O,layout:w,width:E,height:U,lineLength:g?l:o,containerWidth:l,pctWidth:x,fullWidthMode:z},Object(n("AeFk").jsx)(i.Fragment,null,s),y&&W)};return A?V(C||document.body.offsetWidth):Object(n("AeFk").jsx)(n("dHUS").a,null,(({width:e,breakpoint:t})=>V(e)))}))},Qvlh:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return d}));const i=24;function r(e,t,n){return(t+i)/n*e-i}function a(e,t,n){return(e+i)*n/(t+i)}function o(e,t){return(t+i)*e-i}function d(e,t){return(e+i)/(t+i)}},TSYQ:function(e,t,n){var i;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)){if(i.length){var o=r.apply(null,i);o&&e.push(o)}}else if("object"===a)if(i.toString===Object.prototype.toString)for(var d in i)n.call(i,d)&&i[d]&&e.push(d);else e.push(i.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},zaYB:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var i=n("q1tI"),r=n.n(i),a=n("TSYQ"),o=n.n(a);const d=250,c=200,l=["wrap-left","wrap-right","align-end","align-start"],s=(e,t,n)=>l.indexOf(e)>-1&&n&&t&&t>.5*n
;function u({layout:e,width:t,height:i,containerWidth:a=t,isLoading:d=!1,pctWidth:c,className:l,children:u,nodeType:h="mediaSingle",fullWidthMode:f,lineLength:p,hasFallbackContainer:m=!0,handleMediaSingleRef:g}){const w=r.a.Children.toArray(u);!c&&s(e,t,p)&&(c=50);const b=void 0===t;if(c){const e=Math.ceil(Object(n("Qvlh").d)(c/100,p||a||0));b?t=e-n("9cwX").x:void 0!==t&&(i=i/t*e,t=e)}else b&&(t=n("9cwX").c-n("9cwX").x);let x,y;if(b)x=i;else if(void 0!==t){y=`${(i/t*100).toFixed(3)}%`,"embedCard"===h&&(y=`calc(${y} + 32px)`)}const[v,j]=w;return Object(n("AeFk").jsx)("div",{ref:g,css:Object(n("zux5").a)({width:t,layout:e,containerWidth:a,pctWidth:c,fullWidthMode:f}),"data-layout":e,"data-width":c,"data-node-type":h,className:o()("rich-media-item mediaSingleView-content-wrap",`image-${e}`,l,{"is-loading":d,"rich-media-wrapped":"wrap-left"===e||"wrap-right"===e})},Object(n("AeFk").jsx)(n("zux5").b,{hasFallbackContainer:m,height:x,paddingBottom:y},v),j)}},zux5:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var i=n("QILm"),r=n.n(i);n("q1tI");const a=["children"];function o(e,t,i=0,r,a){switch(e){case"align-start":case"align-end":case"wrap-right":case"wrap-left":return t>i/2?"calc(50% - 12px)":`${t}px`;case"wide":return Object(n("xEd5").e)(i);case"full-width":return Object(n("xEd5").c)(e,i);default:return a?`${t}px`:r?function(e){return e>n("9cwX").s?"100%":`${e}px`}(t):function(e){return e>n("9cwX").r?"100%":`${e}px`}(t)}}const d=({containerWidth:e=0,fullWidthMode:t,isResized:i,layout:r,pctWidth:a,width:d})=>Object(n("AeFk").css)("tr &,[data-layout-column] &,[data-node-type='expand'] &{max-width:100%;}width:",a?function(e,t,i=0){switch(e){case"wide":return Object(n("xEd5").e)(i);case"full-width":return Object(n("xEd5").c)(e,i);default:return`${t}px`}}(r,d||0,e):o(r,d||0,e,t,i),";max-width:",function(e,t){switch(e){case"wide":return Object(n("xEd5").e)(t);case"full-width":return Object(n("xEd5").c)(e,t);default:
return"100%"}}(r,e),";float:",function(e){switch(e){case"wrap-right":return"right";case"wrap-left":return"left";default:return"none"}}(r),";margin:",function(e){switch(e){case"wrap-right":return"12px auto 12px 12px";case"wrap-left":return"12px 12px 12px auto";default:return"24px auto"}}(r),";",function(e){switch(e){case"align-end":return"margin-right: 0";case"align-start":return"margin-left: 0";default:return""}
}(r),";&:not(.is-resizing){transition:width 100ms ease-in;}"),c=e=>Object(n("AeFk").css)("position:relative;",(({hasFallbackContainer:e,paddingBottom:t,height:i})=>Object(n("AeFk").css)(e?`\n  &::after {\n    content: '';\n    display: block;\n    ${i?`height: ${i}px;`:t?`padding-bottom: ${t};`:""}\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n  `:"",";"))(e),"&>figure{position:",e.hasFallbackContainer?"absolute":"relative",";height:100%;width:100%;}&>div{position:",e.hasFallbackContainer?"absolute":"relative",";height:100%;width:100%;}&[data-node-type='embedCard']>div{width:100%;}[data-node-type='media']{position:static!important;>div{position:absolute;height:100%;}}"),l=e=>{let{children:t}=e,i=r()(e,a);return Object(n("AeFk").jsx)("div",{css:c(i)},t)};l.displayName="WrapperMediaSingle"}}]);try{window.__jsEvalStop("@atlaskit-internal_renderer-node_MediaSingle.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-internal_renderer-node_MediaSingle.d1ac768fb8ec2932e36c.8.js.map