try{window.performance.mark("async-resource-rapidboards-data-api.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-resource-rapidboards-data-api"],{"0FXl":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c}));const r=(e,t)=>{const{rapidView:r,quickFilter:n,projectKey:i,etag:c}=e,o=t.params.boardId||r,s=t.params.projectKey||i;let l="";n&&(l=Array.isArray(n)?n.reduce(((e,t)=>`${e}&activeQuickFilters=${t}`),l):`&activeQuickFilters=${n}`);const u=c?`&etag=${c}`:"",d=s?`&selectedProjectKey=${s}`:"",{GH:g}=window;let p="&forceConsistency=";var b,w,f,h,y,j,m
;Object(a("GfYg").t)()?p+=(null==g||null===(b=g.RapidBoard)||void 0===b||null===(w=b.State)||void 0===w||null===(f=w.getRapidViewIdForEventuallyConsistentBoard())||void 0===f?void 0:f.toString())!==o||null!=g&&null!==(h=g.RapidBoard)&&void 0!==h&&null!==(y=h.State)&&void 0!==y&&y.isFirstLoad()?"true":"false":(null==g||null===(j=g.RapidBoard)||void 0===j||null===(m=j.State)||void 0===m||m.setRapidViewIdForEventuallyConsistentBoard(void 0),p+="true");return`rapidViewId=${o}${d}${l}${u}${p}`},n=e=>{delete window[e]},i=e=>{const t=window[e];return t?t.readyState===t.DONE&&200!==t.status?(n(e),null):new Promise((a=>{t.readyState===t.DONE&&200===t.status?(n(e),a(JSON.parse(t.response))):t.addEventListener("load",(()=>{n(e),a(JSON.parse(t.response))}))})):null},c=e=>{let t=a("EhL9").q;switch(e){case a("6pTR").b.RAPIDBOARD_BOARD:case a("6pTR").b.RAPIDBOARD_USER_BOARD:t=a("EhL9").o;break;case a("6pTR").b.RAPIDBOARD_BACKLOG:case a("6pTR").b.RAPIDBOARD_USER_BACKLOG:t=a("EhL9").n}
return[...a("EhL9").p,...t]}},"3J2o":function(e,t,a){"use strict";a.r(t);var r=a("3tO9"),n=a.n(r);const i=e=>Object(a("Zbx2").b)(e)?Object(a("HuSD").a)("backlog_data_done"):Object(a("Zbx2").c)(e)?Object(a("HuSD").a)("board_data_done"):null,c=({query:e,match:t,tenantContext:r,signal:n,name:c})=>{const{baseUrl:o}=r,s=((e,t,r,n)=>{if(Object(a("Zbx2").b)(n))return`${e}/${Object(a("GfYg").g)()?"rest/greenhopper/1.0/xboard/plan/v2/backlog/data.json":"rest/greenhopper/1.0/xboard/plan/backlog/data"}?${Object(a("0FXl").a)(t,r)}`;return Object(a("Zbx2").c)(n)?`${e}/rest/greenhopper/1.0/xboard/work/allData.json?${Object(a("0FXl").a)(t,r)}`:null})(o,e,t,c),l=i(c);try{if(null!==s&&null!==l)return Object(a("0FXl").b)("SPA_RAPIDBOARD")||Object(a("DycT").a)(s,{signal:n});throw new Error("An error was thrown while prefetching initial all data due to either empty endpoint of perf mark")}catch(u){throw Object(a("AfAr").a)({component:"spa.view.routes.classic-projects.initial-all-data.getData",
message:"An error was thrown while prefetching initial all data",name:"ResourceError"},u)}};t.default=async({query:e,route:t,match:r},{tenantContext:o})=>{if((Object(a("GfYg").v)()&&Object(a("Zbx2").c)(null==t?void 0:t.name)||Object(a("GfYg").u)()&&Object(a("Zbx2").b)(null==t?void 0:t.name))&&!e.config&&a("1aef").a.getIsOptedIn())return null;const s=void 0!==r.params.boardId?r.params.boardId:e.rapidView;if(void 0===s)return null;const{name:l=""}=t||{};a("gRpD").a.initBoard(s,Object(a("Zbx2").c)(l));const u=await a("gRpD").a.getETag();let{quickFilter:d}=e;const g=n()(n()({},e),{},{etag:u});var p;Object(a("GfYg").kb)()&&(d=void 0!==d?d:Object(a("kw6q").a)(l),null!==(p=d)&&void 0!==p&&p.length&&(g.quickFilter=d));const b=Object(a("Zbx2").a)();try{const e=(e=>Object(a("Zbx2").b)(e)?Object(a("HuSD").a)("backlog_data_initiated"):Object(a("Zbx2").c)(e)?Object(a("HuSD").a)("board_data_initiated"):null)(l);if("string"==typeof e&&Object(a("FbcP").f)(e),Object(a("GfYg").d)()){
const e=window.SPA_RAPIDBOARD,t=c({query:g,match:r,tenantContext:o,signal:b,name:l}),n=await t,s=Object(a("KayE").b)(e);await a("gRpD").a.setETag(n);const u=i(l);return"string"==typeof u&&Object(a("FbcP").f)(u),{data:t,route:l,allDataTraceId:s}}const t=c({query:g,match:r,tenantContext:o,signal:b,name:l}),n=await t;await a("gRpD").a.setETag(n);const s=i(l);return"string"==typeof s&&Object(a("FbcP").f)(s),{data:t,route:l}}catch(w){if(Object(a("GfYg").fb)())throw Object(a("AfAr").a)({component:"spa.view.routes.classic-projects.initial-all-data.getData",message:"An error was thrown while prefetching initial all data",name:"ResourceError"},w);return null}}},"75eW":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"l",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"k",(function(){return d
})),a.d(t,"g",(function(){return g})),a.d(t,"j",(function(){return p})),a.d(t,"i",(function(){return b}));const r="common-cache",n="capacity exceeded",i="clear",c="update",o="delete",s="delete stale entry",l="get",u="hydrate",d="set",g="get entries",p="memory",b="local"},BCU4:function(e,t,a){"use strict";t.a=e=>{{const t=Object(a("WEhk").b)(e),r=()=>t.then((e=>e.getEntries().then((e=>e.map((([,e])=>e)))))),n=()=>t.then((e=>e.refresh())).then((()=>r()));return{get:e=>t.then((t=>t.get(e))),getAll:r,set:(e,a)=>t.then((t=>t.set(e,a))),remove:e=>t.then((t=>t.delete(e))),update:(e,a)=>t.then((t=>t.update(e,a))),refresh:n}}}},EhL9:function(e,t,a){"use strict";a.d(t,"m",(function(){return r})),a.d(t,"j",(function(){return n})),a.d(t,"i",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"k",(function(){return o})),a.d(t,"l",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return g
})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return b})),a.d(t,"b",(function(){return w})),a.d(t,"p",(function(){return f})),a.d(t,"q",(function(){return h})),a.d(t,"o",(function(){return y})),a.d(t,"n",(function(){return j}))
;const r="work",n="plan",i="initial-data",c="config-data",o="report",s="success",l="failure",u="all-data-promise",d="GH_SPA_RESOURCES_READY",g="GH_SPA_RB_READY",p="GH_SPA_SPINNER_HIDE",b="GH_SPA_SPINNER_SHOW",w="ghx-issue-fragment",f=[],h=["_super","wrc!greenhopper-rapid-non-gadget","wrc!gh-rapid","wrc!jira.global","wrc!atl.general","wrc!jira.general","wrc!atl.global","wrc!com.pyxis.greenhopper.jira:rapid-board-page","wrc!gh-rapid-config","wrc!gh-rapid-analytics","wrc!gh-rapid-charts","wrc!jira.webresources:mentions-feature","wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-resources-ctx"],y=["wrc!gh-rapid-lwf-board-fhd","wrc!jira.webresources:skate","wrc!jira.webresources:feature-flags","wrc!com.atlassian.auiplugin:aui-spinner","wrc!com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client","wrc!com.atlassian.jira.jira-atlaskit-plugin:overrides-general","wrc!com.atlassian.jira.jira-atlaskit-plugin:overrides-dialogs","wrc!com.atlassian.analytics.analytics-client:js-events"],j=["wrc!gh-rapid-backlog-fhd","wrc!jira.webresources:skate","wrc!jira.webresources:header","wrc!jira.webresources:feature-flags","wrc!com.atlassian.auiplugin:aui-spinner","wrc!com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client","wrc!com.atlassian.jira.jira-atlaskit-plugin:overrides-general","wrc!com.atlassian.jira.jira-atlaskit-plugin:overrides-dialogs","wrc!com.atlassian.analytics.analytics-client:js-events"]
},WEhk:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("3tO9"),n=a.n(r);const i=e=>Date.now()-e;function c(e){const t=new Map,{size:r}=e;let c,o=!1;const s=window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__.connect({name:`Cache ${e.cacheKey}`,serialize:!0}):null,l=(r,n)=>{a("7bkM").b.devTools&&s&&s.send({type:r,payload:n},t,{},e.cacheKey)},u=(r,n)=>{if(e.storageType!==a("75eW").j){const{maxAge:c}=e;if(void 0!==c&&i(n.timestamp)>c)return l(a("75eW").d,{[String(r)]:n}),t.delete(r),!0}return!1},d=async(n,i)=>{await g(),t.delete(n);const o={value:i,timestamp:Date.now()};let s={};if(e.storageType!==a("75eW").j&&(s=c.get(e.cacheKey)||{},s[n]=o),t.set(n,o),l(a("75eW").k,{[String(n)]:o}),t.size>r){const r=t.keys().next().value;void 0!==r&&(t.delete(r),l(a("75eW").a,r),e.storageType!==a("75eW").j&&delete s[r])}e.storageType!==a("75eW").j&&c.set(e.cacheKey,s)},g=async()=>{if(o)return;if(o=!0,e.storageType===a("75eW").j)return
;const{cacheKey:r}=e;c=(()=>(c=e.storageType===a("75eW").i?Object(a("VVJz").b)(a("7bkM").a):Object(a("veu8").b)(a("7bkM").a),c))();try{let o=c.get(r)||{};o=await(async r=>{const o=n()({},r);if(e.storageType===a("75eW").j)return{};const{cacheKey:s,maxAge:u}=e;return void 0!==u&&(Object.keys(r).forEach((e=>{i(r[e].timestamp)>u&&(l(a("75eW").d,{[String(e)]:o[e]}),delete o[e],t.delete(e))})),c.set(s,o)),o})(o),l(a("75eW").h,o);const s=Object.keys(o).sort(((e,t)=>o[e].timestamp-o[t].timestamp));await Promise.all(s.map((async e=>{await d(e,o[e].value)})))}catch(s){throw a("ZXUb").a.safeWarnWithoutCustomerData(a("75eW").e,`There was an error syncing with storage - ${r}`,s),s}},p=async()=>{if(await g(),t.clear(),e.storageType!==a("75eW").j){const{cacheKey:t}=e;c.remove(t)}l(a("75eW").b,{})};return a("7bkM").b.scopes.current!==a("7bkM").b.scopes.prev&&p(),{cache:t,get:async e=>{await g();let r=t.get(e);return r&&u(e,r)&&(r=void 0),l(a("75eW").f,{[String(e)]:r}),r&&r.value},set:d,
delete:async r=>{if(await g(),e.storageType!==a("75eW").j){const t=c.get(e.cacheKey)||{};delete t[r],c.set(e.cacheKey,t)}t.delete(r),l(a("75eW").c,{[String(r)]:t.get(r)})},clear:p,load:g,update:async(r,n)=>{await g();const i=t.get(r);if(!i)return;const o={value:n,timestamp:i.timestamp};let s={};e.storageType!==a("75eW").j&&(s=c.get(e.cacheKey)||{},s[r]=o),t.set(r,o),l(a("75eW").l,{[String(r)]:o}),e.storageType!==a("75eW").j&&c.set(e.cacheKey,s)},getEntries:async()=>{await g();const e=Array.from(t.entries()).filter((([e,t])=>!u(e,t)));return l(a("75eW").g,e),e.map((([e,{value:t}])=>[e,t]))},refresh:async()=>{e.storageType!==a("75eW").j&&(t.clear(),o=!1,await g())}}}const o={};t.b=async e=>{await Object(a("7bkM").c)().catch((e=>{a("ZXUb").a.safeErrorWithoutCustomerData("common.cache.scope","There was a failure within cache scopeGuard",e)}));const{cacheKey:t}=e;return o[t]=o[t]||new c(e),o[t]}},gRpD:function(e,t,a){"use strict";const r=Object(a("BCU4").a)({size:10,cacheKey:"board-etag",
maxAge:864e5,storageType:a("75eW").i}),n={cache:{isBoardRoute:!1,board:null},initBoard(e,t){var a;const{cache:r}=this;"string"==typeof e&&(null===(a=r.board)||void 0===a?void 0:a.id)!==e&&(r.board={id:e,etag:""}),r.isBoardRoute=t},async getETag(){const{isBoardRoute:e,board:t}=this.cache;let a;return e&&t&&(a=t.etag?t.etag:await this.loadEtagFromStorage(t.id)),a||""},async setETag(e){var t;const{isBoardRoute:a,board:r}=this.cache;a&&r&&"string"==typeof(null==e||null===(t=e.etagData)||void 0===t?void 0:t.etag)&&(r.etag=e.etagData.etag,await this.persistEtag(r.etag,r.id))},async persistEtag(e,t){null!=e&&""!==e&&null!=t&&""!==t&&await r.set(`${t}`,e)},loadEtagFromStorage:async e=>null!=e&&""!==e?r.get(`${e}`):""};t.a=n},kw6q:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r=e=>{var t;const{GH:r}=window;if(null!=r&&null!==(t=r.RapidBoard)&&void 0!==t&&t.State){if(e===a("6pTR").b.RAPIDBOARD_BOARD)return r.RapidBoard.State.getBoardSettings().activeQuickFilters
;if(e===a("6pTR").b.RAPIDBOARD_BACKLOG)return r.RapidBoard.State.getBoardSettings().planQuickFilters}return""}}}]);try{window.__jsEvalStop("async-resource-rapidboards-data-api.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-resource-rapidboards-data-api.128b22e5aac6b9b12134.8.js.map