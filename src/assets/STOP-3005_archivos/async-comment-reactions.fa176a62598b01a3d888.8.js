try{window.performance.mark("async-comment-reactions.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-comment-reactions","e1c7e116116d9c2944af336aed50f302","0a3b5bfd702d74b20f795308e773e66a","b27a5bce5bf8addc055adbb0f1cccaba","ff7d27ee80008a752b21a737dba7eb7c"],{"+IWU":function(e,t,n){"use strict";var i=n("QILm"),o=n.n(i),r=n("lSNA"),a=n.n(r),s=n("q1tI");class c extends s.Component{constructor(e,t){super(e),a()(this,"isUnmounted",!1),a()(this,"loaded",(e=>!!e.asyncLoadedComponent&&!!e.loadedEmojiProvider)),this.state=t,this.loadEmojiProvider(this.props.emojiProvider)}componentDidMount(){this.state.asyncLoadedComponent||this.asyncLoadComponent()}UNSAFE_componentWillReceiveProps(e){this.loadEmojiProvider(e.emojiProvider)}componentWillUnmount(){this.isUnmounted=!0}loadEmojiProvider(e){e.then((e=>{this.isUnmounted||this.setState({loadedEmojiProvider:e})})).catch((()=>{this.isUnmounted||this.setState({loadedEmojiProvider:void 0})}))}setAsyncState(e){
this.isUnmounted||this.setState({asyncLoadedComponent:e})}renderLoading(){return null}render(){if(this.loaded(this.state)){const{loadedEmojiProvider:e,asyncLoadedComponent:t}=this.state;return this.renderLoaded(e,t)}return this.renderLoading()}}c.displayName="LoadingEmojiComponent";const d=["emojiProvider"],l=()=>(()=>n.e("@atlaskit-internal_emojiPickerComponent").then(n.bind(null,"IClw")))().then((e=>e.default));class u extends c{constructor(e){super(e,{}),a()(this,"state",{asyncLoadedComponent:u.AsyncLoadedComponent}),n("xFh9").d["emoji-picker-opened"].start()}asyncLoadComponent(){l().then((e=>{u.AsyncLoadedComponent=e,this.setAsyncState(e)}))}renderLoading(){const e=new(n("OS0S").c);return n("xFh9").d["emoji-picker-opened"].markFMP(),Object(n("AeFk").jsx)("div",{css:Object(n("nc8v").h)(),ref:e=>{this.props.onPickerRef&&this.props.onPickerRef(e)}},e.renderItem())}renderLoaded(e,t){const i=this.props,{emojiProvider:r}=i,a=o()(i,d);return Object(n("AeFk").jsx)(n("nfRB").a,{
experiences:[n("xFh9").d["emoji-picker-opened"]]},Object(n("AeFk").jsx)(n("OVD/").a,{emojiProvider:e},Object(n("AeFk").jsx)(t,a)))}}a()(u,"defaultProps",{size:"medium"});const m=Object(n("VHV8").a)()(u);t.a=m},"+OC9":function(e,t,n){"use strict";n.d(t,"u",(function(){return o})),n.d(t,"r",(function(){return r})),n.d(t,"p",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"w",(function(){return c})),n.d(t,"v",(function(){return d})),n.d(t,"n",(function(){return l})),n.d(t,"B",(function(){return u})),n.d(t,"C",(function(){return m})),n.d(t,"D",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"A",(function(){return b})),n.d(t,"H",(function(){return j})),n.d(t,"q",(function(){return g})),n.d(t,"t",(function(){return x})),n.d(t,"E",(function(){return v})),n.d(t,"G",(function(){return O})),n.d(t,"x",(function(){return k})),n.d(t,"z",(function(){return y})),n.d(t,"L",(function(){return A})),n.d(t,"f",(function(){return F})),n.d(t,"y",(function(){return E})),
n.d(t,"M",(function(){return w})),n.d(t,"K",(function(){return C})),n.d(t,"J",(function(){return R})),n.d(t,"P",(function(){return I})),n.d(t,"O",(function(){return S})),n.d(t,"Q",(function(){return N})),n.d(t,"c",(function(){return D})),n.d(t,"I",(function(){return M})),n.d(t,"a",(function(){return P})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return L})),n.d(t,"F",(function(){return _})),n.d(t,"h",(function(){return z})),n.d(t,"o",(function(){return $})),n.d(t,"m",(function(){return q})),n.d(t,"s",(function(){return H})),n.d(t,"b",(function(){return B})),n.d(t,"R",(function(){return U})),n.d(t,"N",(function(){return V})),n.d(t,"e",(function(){return W})),n.d(t,"d",(function(){return G})),n.d(t,"k",(function(){return J}));const i="emoji-common-select-on-hover",o="emoji-common-emoji-sprite",r="emoji-common-node",a="emoji-common-emoji-image",s={name:"1b3w301",
styles:"visibility:hidden;display:flex;height:0px;width:38px;align-items:flex-end;justify-content:flex-end;padding-top:4px;margin-bottom:-4px"},c={name:"e1q0su",styles:"flex:1;display:flex;justify-content:flex-end;padding:10px 10px 11px 0"},d=Object(n("AeFk").css)({borderRadius:`${Object(n("7w+A").borderRadius)()}px`,backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0",[`&.emoji-common-selected,&.${i}:hover`]:{backgroundColor:n("jp2e").a},[`&.emoji-common-selected,&.${i}:hover .emoji-common-deleteButton`]:{visibility:"visible"},img:{display:"block"}}),l=Object(n("AeFk").css)({display:"inline-block",margin:"-1px 0",[`&.emoji-common-selected,&.${i}:hover`]:{backgroundColor:n("jp2e").a},[`.${o}`]:{background:"transparent no-repeat",display:"inline-block",minHeight:"20px",minWidth:"20px",verticalAlign:"middle"}}),u="emoji-common-placeholder",m=Object(n("AeFk").css)({position:"relative",margin:"-1px 0",display:"inline-block",
background:"var(--ds-border, #f7f7f7)",borderRadius:`${Object(n("7w+A").borderRadius)()}px`,overflow:"hidden",verticalAlign:"middle",whiteSpace:"nowrap",textAlign:"center"}),p=n("AeFk").keyframes`
  from {
    transform: translateX(-100%);
  }
  to   {
    transform: translateX(100%);
  }
`,h=Object(n("AeFk").css)({"&::before":{content:'""',display:"block",position:"absolute",background:"var(--ds-background-neutral, rgba(9, 30, 66, 0.04))",height:"100%",width:"100%",animation:`${p} 1s cubic-bezier(0.4, 0.0, 0.2, 1) infinite`}}),f=Object(n("AeFk").css)({backgroundColor:"transparent",border:"0",cursor:"pointer",padding:0,"&::-moz-focus-inner":{border:"0 none",padding:0},"&>span":{borderRadius:`${Object(n("7w+A").borderRadius)()}px`,padding:"6px",[`&>.${o}`]:{height:"24px",width:"24px"},"&>img":{height:"24px",width:"24px"}}}),b={name:"eivff4",styles:"display:none"},j={name:"1b8z6z9",styles:"display:flex;flex-direction:column;align-self:center;margin-top:-2px;margin-left:10px;max-width:285px;width:285px;flex-grow:1;flex-shrink:1"},g=Object(n("AeFk").css)({display:"block",color:"var(--ds-text, #091E42)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","&:first-letter":{textTransform:"uppercase"}}),x=Object(n("AeFk").css)({display:"block",
color:"var(--ds-text-subtle, #6B778C)",fontSize:"12px",lineHeight:1,marginBottom:"-2px",overflow:"hidden",paddingBottom:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap","&:first-of-type":{color:"var(--ds-text, #091E42)",fontSize:"14px"}}),v={name:"xc6blf",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;padding:10px;height:32px;align-items:center"},O=Object(n("AeFk").css)({display:"inline-block",flex:"initial",width:"32px",[`& .${o}, > span`]:{width:"32px",height:"32px",padding:0,maxHeight:"inherit"},"& > span > img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}}),k=(Object(n("7w+A").borderRadius)(),{name:"4ig074",styles:"height:78px;padding:10px;display:flex;flex-direction:column;justify-content:space-around"}),y={name:"r8ey93",styles:"padding-bottom:7px;display:flex;justify-content:space-between;align-items:flex-end;font-size:12px"},A=Object(n("AeFk").css)({
color:"var(--ds-text-subtle, #5E6C84)"}),F={name:"zjik7",styles:"display:flex"},E={name:"1t89zvq",styles:"font-size:11px"},w={name:"t04h3w",styles:"display:flex;justify-content:space-between;padding-bottom:7px"},C=Object(n("AeFk").css)({flex:"1 1 auto",marginRight:"5px",input:{background:"transparent",border:0,outline:"none","&:invalid":{boxShadow:"none"},"&::-ms-clear":{display:"none"}}}),R={name:"ou8xsw",styles:"flex:0 0 auto"},I={name:"9o0thy",styles:"display:flex;flex-direction:column;height:100px;padding:10px"},S=Object(n("AeFk").css)({display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--ds-background-neutral, #F4F5F7)",borderRadius:`${Object(n("7w+A").borderRadius)()}px`,padding:"10px"}),N=Object(n("AeFk").css)({h5:{color:"var(--ds-text-subtle, #5E6C84)",paddingBottom:"4px",fontSize:"12px"},img:{maxHeight:"20px",maxWidth:"50px"}}),D={name:"9noowo",styles:"padding-left:4px;img{max-height:40px;max-width:100px;}"},M={name:"n5qme0",
styles:"display:flex;justify-content:flex-end;align-items:center;padding-top:10px"},P={name:"udr5k",styles:"align-self:center;margin-left:10px;margin-bottom:10px"},T={name:"k4dmy0",styles:"height:100px;padding:10px;display:flex;flex-direction:column;justify-content:flex-end"},L=Object(n("AeFk").css)({height:"64px",fontSize:"12px","&:first-of-type":{color:"var(--ds-text-subtle, #5E6C84)",lineHeight:"16px"}}),_={name:"zjik7",styles:"display:flex"},z=Object(n("AeFk").css)({display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",img:{maxHeight:"32px",maxWidth:"72px"},".emoji-submit-delete":{width:"84px",fontWeight:"bold",marginRight:"4px"},button:{display:"flex",justifyContent:"center",fontSize:"14px",div:{display:"flex"}}}),$=Object(n("AeFk").css)({display:"flex",color:"var(--ds-text-danger, #DE350B)",alignItems:"center",justifyContent:"flex-end",paddingRight:"4px"}),q=Object(n("AeFk").css)({display:"flex",color:"var(--ds-text-danger, #FF5630)",paddingRight:"10px",
justifyContent:"flex-start"}),H=Object(n("AeFk").css)({display:"inline-flex",color:"var(--ds-text-danger, #DE350B)",paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),B={name:"1vnsw82",styles:"max-width:285px"},U={name:"168k5xt",styles:"max-width:172px;justify-content:center;font-weight:bold;margin-right:4px;div{display:flex;}"},V={name:"24o1c1",styles:"max-width:187px;justify-content:center;margin-right:4px;div{display:flex;}"},W={name:"3s4lj9",styles:"max-width:100px"},G={name:"15lh70q",styles:"margin-right:10px;margin-left:10px"},J={name:"5ej25d",styles:"display:flex;justify-content:flex-end;align-items:center"}},"65si":function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),o=n("pxNp");const r={name:"1cj4iio",styles:"display:inherit;margin:var(--ds-scale-0, 0px);flex:inherit;flex-direction:inherit;flex-grow:1;overflow-x:hidden;overflow-y:auto;@media (min-width: 480px){height:unset;overflow-y:auto;}"},a=Object(n("AeFk").css)({borderTop:`2px solid ${n("rffu").d}`
}),s=Object(n("AeFk").css)({borderBottom:`2px solid ${n("rffu").d}`}),c=Object(i.forwardRef)(((e,t)=>{const{testId:o,children:c}=e,[d,l]=Object(n("vYhH").a)({previous:!1,next:!1}),[u,m]=Object(i.useState)(!1),[p,h]=Object(i.useState)(!1),[f,b]=Object(i.useState)(!1),j=Object(i.useRef)(null),g=Object(n("+mDI").a)(l),x=Object(n("+mDI").a)(Object(n("w95p").a)((()=>{const e=j.current;e&&m(e.scrollHeight>e.clientHeight)}))),v=Object(n("+mDI").a)(Object(n("w95p").a)((()=>{const e=j.current;if(e){const t=e.scrollHeight-e.clientHeight;d.current.previous&&h(e.scrollTop>2),d.current.next&&b(e.scrollTop<=t-2)}})));return Object(i.useEffect)((()=>{const e=j.current,t=Object(n("F2L9").bind)(window,{type:"resize",listener:v}),i=e?Object(n("F2L9").bind)(e,{type:"scroll",listener:v}):n("Sf9E").a;return x(),v(),g({previous:Boolean(null==e?void 0:e.previousElementSibling),next:Boolean(null==e?void 0:e.nextElementSibling)}),()=>{t(),i()}}),[x,v,g]),Object(n("AeFk").jsx)(n("Q+8n").a,{isInset:!0
},Object(n("AeFk").jsx)("div",{tabIndex:u?0:void 0,"data-testid":o&&`${o}--scrollable`,ref:Object(n("1yOk").a)([t,j]),css:[r,p&&a,f&&s]},c))}));c.displayName="ScrollContainer";var d=c;const l={name:"mkkf9p",styles:"flex:1 1 auto"},u=Object(n("AeFk").css)({padding:`2px ${n("rffu").e}px`}),m=Object(n("AeFk").css)({padding:`0px ${n("rffu").e}px`});t.default=e=>{const{children:t,testId:r}=e,{testId:a}=Object(n("djpI").a)(),s=r||a&&`${a}--body`;return function(){const e=Object(i.useContext)(n("bH4X").b);if(null==e)throw Error("@atlaskit/modal-dialog: Scroll context unavailable \u2013 this component needs to be a child of ModalDialog.");return e}()?Object(n("AeFk").jsx)("div",{css:[l,m],"data-testid":s},t):Object(n("AeFk").jsx)(o.TouchScrollable,null,Object(n("AeFk").jsx)(d,{testId:r||a},Object(n("AeFk").jsx)("div",{css:[l,u],"data-testid":s},t)))}},"8ADI":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={listHeight:n("W+Fu").c,listWidth:350,searchHeight:52,
categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},"8cBU":function(e,t,n){"use strict";n.d(t,"a",(function(){return n("YH1i").b})),n.d(t,"b",(function(){return n("YH1i").c})),n.d(t,"c",(function(){return r}));var i=n("nuSy");const o=()=>new i.c((()=>Object(n("YdwB").d)("reactions")||"")()),r=()=>new i.b(o())},AFFc:function(e,t,n){"use strict";n.r(t);const i=Object(n("AeFk").css)({display:"flex",minWidth:0,margin:"var(--ds-scale-0, 0px)",alignItems:"center",fontSize:"20px",fontStyle:"inherit",fontWeight:500,letterSpacing:"-0.008em",lineHeight:1}),o={name:"1k30s2j",styles:"min-width:0;flex:1 1 auto;word-wrap:break-word"},r=Object(n("AeFk").css)({marginRight:`${n("rffu").g}px`,flex:"0 0 auto",alignSelf:"start"}),a=Object(n("AeFk").css)({marginTop:"-2px",marginBottom:"-2px",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),s=Object(n("AeFk").css)({marginBottom:"-2px",lineHeight:1.2
}),c=({appearance:e,isMultiline:t})=>{const i="danger"===e?n.n(n("425I")).a:n.n(n("DWq1")).a;return Object(n("AeFk").jsx)("span",{css:[r,!t&&s]},Object(n("AeFk").jsx)(i,{label:`${e} icon`,primaryColor:n("rffu").c[e]}))};t.default=e=>{const{appearance:t,children:r,isMultiline:s=!0,testId:d}=e,{titleId:l,testId:u}=Object(n("djpI").a)(),m=d||u&&`${u}--title`;return Object(n("AeFk").jsx)("h1",{css:i,"data-testid":m},t&&Object(n("AeFk").jsx)(c,{appearance:t,isMultiline:s}),Object(n("AeFk").jsx)("span",{id:l,css:[o,!s&&a],"data-testid":m&&`${m}-text`},r))}},GNay:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n.n(i);const r=({children:e,emojiContextValue:t})=>{const r=Object(i.useMemo)((()=>t),[t]);return Object(i.useEffect)((()=>{!async function(){try{await(null==r?void 0:r.emoji.emojiProvider.fetchEmojiProvider())}catch(e){Object(n("wjyn").a)("fetchEmojiProvider error catched from outside",e)}}()}),[r]),o.a.createElement(n("N+td").a.Provider,{value:r},e)}},
GPgl:function(e,t,n){"use strict";var i=n("q1tI"),o=n.n(i);t.a=e=>o.a.createElement(n("MJMf").a,{appear:!0},e.children)},HHRn:function(e){e.exports=JSON.parse('{"a":"@atlaskit/emoji","b":"67.0.4"}')},HfFq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>"medium"===e?80:"large"===e?160:0},I7Nw:function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),o=n.n(i),r=n("/MKj"),a=n("nuSy"),s=n("pVnL"),c=n.n(s),d=n("QILm"),l=n.n(d);const u=["as","style"];n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG");const m=Object(i.forwardRef)(((e,t)=>{let{as:o="div",style:r}=e,a=l()(e,u);return i.createElement(o,c()({},a,{style:r,ref:t,className:Object(n("TCwg").a)(["_5f0qmyb0 _1bbl1y44 _1vzl1y44 _31h4idpf _70unidpf _1gtf1y44 _14akidpf _i3niidpf _uuf1idpf",a.className])}))}));const p=({containerAri:e="",objectAri:t="",reactionsStore:r,showReactions:s})=>{
const c=Object(n("GVy0").a)(),d=Object(n("EPof").a)(),l=Object(i.useMemo)((()=>null!=r?r:Object(n("8cBU").c)()),[r]),u=Object(i.useMemo)((()=>Object(n("8cBU").b)(d,c)),[d,c]);return s&&l&&u?Object(n("wCyq").isReactionsStylesFixEnabled)()?o.a.createElement(m,null,o.a.createElement(a.a,{ari:t,containerAri:e,store:l,emojiProvider:u,allowAllEmojis:!0})):o.a.createElement(a.a,{ari:t,containerAri:e,store:l,emojiProvider:u,allowAllEmojis:!0}):null};p.displayName="Reactions";const h=e=>o.a.createElement(n("qAQD").a,null,o.a.createElement(p,e));h.displayName="Reactions";var f=Object(r.connect)((e=>({showReactions:Object(n("89ch").b)(e)})),{})(h);class b extends i.Component{render(){const{issueAri:e,commentAri:t,visible:n}=this.props,i=null===e?void 0:e,r=null===t?void 0:t;return n?o.a.createElement(f,{containerAri:i,objectAri:r}):null}}b.displayName="CommentReactions",b.defaultProps={issueAri:null,visible:!1,commentAri:null};const j=()=>{
const[{issueAri:e,commentAri:t}]=Object(n("g2hJ").c)(),[{isActive:i}]=Object(n("g2hJ").e)();return o.a.createElement(b,{visible:i,issueAri:e,commentAri:t})};j.displayName="ConnectedCommentReactions";t.default=j},Iiav:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI");const o=()=>{const e=Object(i.useContext)(n("N+td").a),[t,o]=Object(i.useState)(!1);if(!e)throw new Error("useEmoji must be used within EmojiContext");const{emojiProvider:r}=e.emoji;return Object(i.useEffect)((()=>{if((e=>{const t=e;return!!t.isUploadSupported&&!!t.uploadCustomEmoji&&!!t.prepareForUpload})(r)){(async()=>{try{const e=await r.isUploadSupported();o(e)}catch(e){return!1}})()}}),[r]),{emojiProvider:r,isUploadSupported:t}}},M3Ny:function(e,t,n){"use strict";function i(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",(function(){return i}))},MSKp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var i=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),o=n("QEuf");const r=e=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-4.5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm9 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));r.displayName="EditorMoreIcon";var a=r;t.default=a},"N+td":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI");const o=Object(i.createContext)(null)},OS0S:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p}));var i=n("lSNA"),o=n.n(i);var r=({id:e,title:t,className:i})=>Object(n("AeFk").jsx)("div",{id:e,"data-category-id":e,className:i,"data-testid":"render-emoji-picker-categorty-heading"},Object(n("AeFk").jsx)("div",{css:n("nc8v").f
},Object(n("l4Cm").m)(t)?Object(n("AeFk").jsx)(n("3e7Q").a,n("dBbw").a[t]):t)),a=n("q1tI");const s=({emojis:e,onSelected:t,onMouseMove:i,title:o,showDelete:r,onDelete:a})=>Object(n("AeFk").jsx)("div",{css:n("nc8v").l},e.map((e=>{const{shortName:s,id:c}=e,d=c?`${c}-${o}`:`${s}-${o}`;return Object(n("AeFk").jsx)("span",{css:n("nc8v").g,key:d},Object(n("AeFk").jsx)(n("sVlj").a,{emoji:e,selectOnHover:!0,onSelected:t,onMouseMove:i,showDelete:r,onDelete:a,placeholderSize:24,shouldBeInteractive:!0}))})));var c=Object(a.memo)(s);class d{constructor(e,t){this.props=e,this.height=t}}class l extends d{constructor(e){super(e,n("8ADI").a.emojiRowHeight),o()(this,"renderItem",(()=>Object(n("AeFk").jsx)(c,this.props)))}}class u extends d{constructor(){super({},n("8ADI").a.loadingRowHeight),o()(this,"renderItem",(()=>Object(n("AeFk").jsx)("div",{css:n("nc8v").m},Object(n("AeFk").jsx)("div",null,Object(n("AeFk").jsx)(n("6UK4").a,{size:"medium"})))))}}class m extends d{constructor(e){
super(e,n("8ADI").a.categoryHeadingHeight),o()(this,"renderItem",(()=>Object(n("AeFk").jsx)(r,this.props)))}}const p=(e,t)=>{const{index:i,key:o}=t,r=e[i];return Object(n("AeFk").jsx)("div",{key:o},r&&r.renderItem(t))}},"OVD/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n.n(i);const r=e=>e.emojiProvider?o.a.createElement(n("GNay").a,{emojiContextValue:{emoji:{emojiProvider:e.emojiProvider}}},e.children):o.a.createElement(o.a.Fragment,null,e.children)},PGlZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("q1tI");function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}var a=new Map,s=new WeakMap,c=0,d=void 0;function l(e){return Object.keys(e).sort().filter((function(t){
return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?function(e){return e?(s.has(e)||(c+=1,s.set(e,c.toString())),s.get(e)):"0"}(e.root):e[t])})).toString()}function u(e,t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=d),void 0===window.IntersectionObserver&&void 0!==i){var o=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var r=function(e){var t=l(e),n=a.get(t);if(!n){var i,o=new Map,r=new IntersectionObserver((function(t){t.forEach((function(t){var n,r=t.isIntersecting&&i.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=r),null==(n=o.get(t.target))||n.forEach((function(e){e(r,t)}))}))}),e);i=r.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:r,elements:o},a.set(t,n)}return n}(n),s=r.id,c=r.observer,u=r.elements,m=u.get(e)||[]
;return u.has(e)||u.set(e,m),m.push(t),c.observe(e),function(){m.splice(m.indexOf(t),1),0===m.length&&(u.delete(e),c.unobserve(e)),0===u.size&&(c.disconnect(),a.delete(s))}}var m=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function p(e){return"function"!=typeof e.children}var h=function(e){function t(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),p(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){
e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,i=e.rootMargin,o=e.trackVisibility,r=e.delay,a=e.fallbackInView;this._unobserveCb=u(this.node,this.handleChange,{threshold:t,root:n,rootMargin:i,trackVisibility:o,delay:r},a)}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!p(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,a=r.children,s=r.as,c=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,m)
;return i.createElement(s||"div",o({ref:this.handleNode},c),a)},t}(i.Component);function f(e){var t=void 0===e?{}:e,n=t.threshold,o=t.delay,r=t.trackVisibility,a=t.rootMargin,s=t.root,c=t.triggerOnce,d=t.skip,l=t.initialInView,m=t.fallbackInView,p=i.useRef(),h=i.useState({inView:!!l}),f=h[0],b=h[1],j=i.useCallback((function(e){void 0!==p.current&&(p.current(),p.current=void 0),d||e&&(p.current=u(e,(function(e,t){b({inView:e,entry:t}),t.isIntersecting&&c&&p.current&&(p.current(),p.current=void 0)}),{root:s,rootMargin:a,threshold:n,trackVisibility:r,delay:o},m))}),[Array.isArray(n)?n.toString():n,s,a,c,d,r,m,o]);Object(i.useEffect)((function(){p.current||!f.entry||c||d||b({inView:!!l})}));var g=[j,f.inView,f.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}h.displayName="InView",h.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},S5I1:function(e,t,n){"use strict";n.r(t);n("q1tI");const i=Object(n("AeFk").css)({display:"flex",padding:n("rffu").e,
paddingBottom:n("rffu").e-2+"px",position:"relative",alignItems:"center",justifyContent:"space-between"});t.default=e=>{const{children:t,testId:o}=e,{testId:r}=Object(n("djpI").a)(),a=o||r&&`${r}--header`;return Object(n("AeFk").jsx)("div",{css:i,"data-testid":a},t)}},Y0zm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),o=n("QEuf");const r=e=>i.default.createElement(o.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.049 14.197c-.166-.476.103-.991.602-1.15.5-.159 1.039.098 1.205.575.06.174.225.487.495.796.426.488.955.764 1.649.764.693 0 1.223-.276 1.65-.764.27-.31.433-.622.494-.796.166-.476.706-.734 1.204-.575.5.159.77.673.603 1.15-.13.371-.395.876-.839 1.385C14.348 16.458 13.306 17 12 17s-2.348-.542-3.112-1.418a4.382 4.382 0 01-.839-1.385zM9.5 11a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM19 5h1a1 1 0 010 2h-1v1a1 1 0 01-2 0V7h-1a1 1 0 010-2h1V4a1 1 0 012 0v1zm-5-1.777V5.29A7 7 0 1018.71 10h2.067A9 9 0 1114 3.223z" fill="currentColor"/></svg>'},e));r.displayName="EmojiAddIcon";var a=r;t.default=a},"YFa+":function(e,t,n){"use strict";var i=n("q1tI"),o=n.n(i),r=n("CnBM");const a=n.n(r)()({loader:()=>n.e("@atlaskit-internal_resourcedEmojiComponent").then(n.bind(null,"yH3Q")).then((e=>e.ResourcedEmojiComponent)),loading:()=>null});t.a=e=>{const{emojiId:t}=e
;return Object(i.useEffect)((()=>{if(t)return Object(n("xFh9").c)(t).start({samplingRate:20}),n("xFh9").d["emoji-rendered"].getInstance(t.id||t.shortName).addMetadata({source:"ResourcedEmoji",emojiId:t.id}),()=>{Object(n("xFh9").c)(t).abort({metadata:{source:"ResourcedEmoji",reason:"unmount"}})}}),[t]),o.a.createElement(n("nfRB").a,{experiences:[n("xFh9").d["emoji-rendered"].getInstance(e.emojiId.id||e.emojiId.shortName)]},o.a.createElement(a,e))}},aQUV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI");const o=(e,t,o)=>(Object(i.useEffect)((()=>()=>{Object(n("aGWp").a)(e).abort()}),[]),(e=>{const t=Object(i.useRef)(!1);t.current||(e(),t.current=!0)})((()=>{Object(n("aGWp").a)(e).start({samplingRate:t});const i=0===Object.keys(e.metadata).length;o&&i&&e.addMetadata(o)})),null)},bH4X:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("q1tI")
;const o=Object(i.createContext)(null),r=Object(i.createContext)(null)},djpI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI");const o=()=>{const e=Object(i.useContext)(n("bH4X").a);if(null==e)throw Error("@atlaskit/modal-dialog: Modal context unavailable \u2013 this component needs to be a child of ModalDialog.");return e}},dtdJ:function(e,t,n){"use strict";n.r(t);const i=Object(n("AeFk").css)({display:"flex",padding:n("rffu").e,paddingTop:n("rffu").e-2+"px",position:"relative",alignItems:"center",justifyContent:"flex-end",gap:`${n("rffu").b}px`});t.default=e=>{const{children:t,testId:o}=e,{testId:r}=Object(n("djpI").a)(),a=o||r&&`${r}--footer`;return Object(n("AeFk").jsx)("div",{css:i,"data-testid":a},t)}},hXRZ:function(e,t,n){"use strict";var i=n("3tO9"),o=n.n(i),r=n("pVnL"),a=n.n(r),s=n("q1tI");var c=e=>Object(n("AeFk").jsx)("span",{css:n("+OC9").g,className:"emoji-common-deleteButton","data-testid":"render-emoji-delete-button"
},Object(n("AeFk").jsx)(n("0+Gd").a,{iconBefore:Object(n("AeFk").jsx)(n.n(n("SEpd")).a,{label:"delete-emoji",primaryColor:"var(--ds-text-subtle, #42526E)",size:"small"}),onClick:e.onClick,appearance:"subtle-link",spacing:"none",testId:"emoji-delete-button"}));const d="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,l=(e,t)=>{if(t.target instanceof Element&&"delete-emoji"===t.target.getAttribute("aria-label"))return;const{emoji:i,onSelected:o}=e;t.preventDefault(),o&&Object(n("M3Ny").a)(t)&&o(Object(n("l4Cm").q)(i),i,t)},u=(e,t)=>{if(t.target instanceof Element&&"delete-emoji"===t.target.getAttribute("aria-label"))return;const{emoji:i,onSelected:o}=e;t.preventDefault(),!o||"Enter"!==t.key&&" "!==t.key||o(Object(n("l4Cm").q)(i),i,t)},m=(e,t)=>{const{emoji:i,onMouseMove:o}=e;o&&o(Object(n("l4Cm").q)(i),i,t)},p=e=>{
const{emoji:t,fitToHeight:i,selected:r,selectOnHover:a,className:s,showTooltip:c,shouldBeInteractive:d}=e,p=t.representation,h=p.sprite,f=`emoji-common-node ${r?"emoji-common-selected":""} ${a?"emoji-common-select-on-hover":""} ${s||""}`;let b={};i&&(b={width:`${i}px`,height:`${i}px`,minHeight:`${i}px`,minWidth:`${i}px`});const j=100/(h.column-1)*(p.xIndex-0),g=100/(h.row-1)*(p.yIndex-0),x=o()({backgroundImage:`url(${h.url})`,backgroundPosition:`${j}% ${g}%`,backgroundSize:`${100*h.column}% ${100*h.row}%`},b);return Object(n("AeFk").jsx)("span",{"data-testid":`sprite-emoji-${t.shortName}`,"data-emoji-type":"sprite",tabIndex:d?0:void 0,role:d?"button":void 0,css:n("+OC9").n,className:f,onKeyPress:t=>u(e,t),onMouseDown:t=>{l(e,t)},onMouseEnter:t=>{m(e,t)},"aria-label":t.shortName,title:c?t.shortName:""},Object(n("AeFk").jsx)("span",{className:"emoji-common-emoji-sprite",style:x},"\xa0"))},h=e=>{
const{emoji:t,fitToHeight:i,selected:o,selectOnHover:r,className:p,showTooltip:h,showDelete:f,shouldBeInteractive:b,onLoadSuccess:j,disableLazyLoad:g,autoWidth:x}=e,[v,O]=(e=>{const t=Object(n("PGlZ").a)(e);return d?t:[void 0,!0]})({triggerOnce:!0}),k=Object(n("xFh9").c)(t),y=`emoji-common-main-styles emoji-common-node ${o?"emoji-common-selected":""} ${r?"emoji-common-select-on-hover":""} emoji-common-emoji-image ${p||""}`;let A,F,E;const w=Object(n("g7XK").d)(t,i)?t.altRepresentation:t.representation;let C;Object(n("l4Cm").i)(w)?(E=w.imagePath,A=w.width,F=w.height):Object(n("l4Cm").l)(w)&&(E=w.mediaPath,A=w.width,F=w.height),f&&(C=Object(n("AeFk").jsx)(c,{onClick:t=>((e,t)=>{const{emoji:i,onDelete:o}=e;o&&o(Object(n("l4Cm").q)(i),i,t)})(e,t)}));let R={};i&&A&&F&&(R={width:x?"auto":i/F*A,height:i});const I=Object(s.useCallback)((()=>{Object(n("xFh9").a)(k,n("DhJ/").d.ONLOAD_START)||k.mark(n("DhJ/").d.ONLOAD_START)}),[k]);Object(s.useEffect)((()=>{O&&I()}),[O,I])
;const S=Object(n("AeFk").jsx)("img",a()({loading:g?"eager":"lazy",src:E,key:E,alt:t.shortName,"data-emoji-short-name":t.shortName,"data-emoji-id":t.id,"data-emoji-text":t.fallback||t.shortName,className:"emoji",style:{visibility:"visible"},onError:t=>{((e,t)=>{const{emoji:i,onLoadError:o}=e;t.target&&(t.target.style.visibility="hidden");o&&o(Object(n("l4Cm").q)(i),i,t)})(e,t)},onLoad:()=>{const e=k.metrics.marks.find((e=>e.name===n("DhJ/").d.MOUNTED_END));Object(n("xFh9").a)(k,n("DhJ/").d.ONLOAD_START)||k.mark(n("DhJ/").d.ONLOAD_START,null==e?void 0:e.time);const i=k.metrics.marks.find((e=>e.name===n("DhJ/").d.ONLOAD_START));e&&i&&k.addMetadata({lazyLoad:i.time>e.time}),Object(n("xFh9").a)(k,n("DhJ/").d.ONLOAD_END)||k.mark(n("DhJ/").d.ONLOAD_END),k.success({metadata:{IBSupported:d}}),j&&j(t)}},R));return Object(n("AeFk").jsx)("span",{"data-testid":`image-emoji-${t.shortName}`,"data-emoji-type":"image",css:n("+OC9").v,tabIndex:b?0:void 0,role:b?"button":void 0,className:y,
onKeyPress:t=>u(e,t),onMouseDown:t=>{l(e,t)},onMouseEnter:t=>{m(e,t)},"aria-label":t.shortName,title:h?t.shortName:"",ref:v},C,S)};t.a=e=>{const{emoji:t}=e;return Object(n("aQUV").a)(n("xFh9").d["emoji-rendered"].getInstance(t.id||t.shortName),20,{source:"Emoji",emojiId:t.id}),Object(s.useEffect)((()=>{const e=Object(n("xFh9").c)(t);Object(n("xFh9").a)(e,"fmp")||e.markFMP(),Object(n("xFh9").a)(e,n("DhJ/").d.MOUNTED_END)||e.mark(n("DhJ/").d.MOUNTED_END)}),[]),Object(n("l4Cm").o)(t.representation)?Object(n("AeFk").jsx)(p,e):Object(n("AeFk").jsx)(h,e)}},jp2e:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));const i="var(--ds-border, #DFE1E6)",o="var(--ds-border, #DFE1E6)",r=`${Object(n("7w+A").borderRadius)()}px`,a="var(--ds-background-neutral-subtle-hovered, #EBECF0)",s="var(--ds-background-neutral, #EBECF0)"},nc8v:function(e,t,n){
"use strict";n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"q",(function(){return d})),n.d(t,"p",(function(){return l})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return g})),n.d(t,"e",(function(){return x}));const i=(e,t="medium")=>{const i=Object(n("HfFq").a)(t);return Object(n("AeFk").css)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"var(--ds-surface-overlay, white)",border:`${n("jp2e").b} 1px solid`,borderRadius:`${Object(n("7w+A").borderRadius)()}px`,boxShadow:"var(--ds-shadow-overlay, 0 3px 6px rgba(0, 0, 0, 0.2))",height:`${e?n("W+Fu").b+i:295+i}px`,width:"350px",
marginBottom:"8px",minWidth:"350px",minHeight:`${260+i}px`,maxHeight:"calc(80vh - 86px)"})},o=Object(n("AeFk").css)({flex:"0 0 auto",backgroundColor:"var(--ds-surface-sunken, #EBECF0)",ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,button:{verticalAlign:"middle"}},".emoji-picker-add-button":{color:"var(--ds-text-subtlest, #6B778C)",margin:"0 0 0 5px",verticalAlign:"middle"}}),r=Object(n("AeFk").css)({color:"var(--ds-text-selected, #0065FF)","&:hover":{color:"var(--ds-text-selected, #0065FF)"}}),a=Object(n("AeFk").css)({color:"var(--ds-text-subtlest, #C1C7D0)",cursor:"default","&:hover":{color:"var(--ds-text-subtlest, #C1C7D0)"}}),s=Object(n("AeFk").css)({backgroundColor:"transparent",border:0,color:"var(--ds-text-subtlest, rgba(9, 30, 66, 0.54))",cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease","&::-moz-focus-inner":{border:"0 none",padding:0},
"&:hover":{color:"var(--ds-text-selected, #2684FF)"}}),c={name:"122uufz",styles:"display:flex;flex-direction:column;flex:1 1 auto;height:0"},d={name:"1nob2mz",styles:"&:focus{outline:none;}"},l={name:"o9ww1u",styles:"opacity:0.5"},u=Object(n("AeFk").css)({boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 6px",width:"100%","&:invalid":{boxShadow:"none"},"&::-ms-clear":{display:"none"}}),m={name:"9647pa",styles:"box-sizing:border-box;padding:10px 10px 11px 10px;width:100%"},p={name:"1ebchlz",styles:"display:flex;width:100%;height:150px;justify-content:center;align-items:center;>div{flex:0 0 auto;}"},h={name:"1q4vxyr",styles:"margin-left:8px"},f=Object(n("AeFk").css)({boxSizing:"border-box",color:"var(--ds-text, #091E42)",fontSize:"14px",padding:"5px 8px",textTransform:"lowercase","&:first-letter":{textTransform:"uppercase"}}),b=Object(n("AeFk").css)({display:"inline-block",textAlign:"center",width:"40px","& .emoji-common-node":{
cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px"},"& .emoji-common-placeholder":{padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"},"& .emoji-common-node .emoji-common-placeholder":{margin:"0"},"& .emoji-common-node > img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"},"& .emoji-common-node > .emoji-common-emoji-sprite":{height:"24px",width:"24px"}}),j={name:"ou8xsw",styles:"flex:0 0 auto"},g=Object(n("AeFk").css)({borderTop:"2px solid var(--ds-border, rgba(9, 30, 66, 0.08))",boxShadow:"0px -1px 1px 0px var(--ds-border, rgba(0, 0, 0, 0.1))"}),x=Object(n("AeFk").css)({borderBottom:"2px solid var(--ds-border, rgba(9, 30, 66, 0.08))",boxShadow:"0px 1px 1px 0px var(--ds-border, rgba(0, 0, 0, 0.1))"})},nfRB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n.n(i);class r extends o.a.Component{componentDidCatch(e,t){
for(const n of this.props.experiences)n.failure({metadata:{source:"UfoErrorBoundary",reason:"error",error:{name:e.name,message:e.message,infoStack:t.componentStack}}})}render(){return this.props.children}}r.displayName="UfoErrorBoundary"},nuSy:function(e,t,n){"use strict";n.d(t,"c",(function(){return H})),n.d(t,"a",(function(){return Et})),n.d(t,"b",(function(){return At}));var i={};n.r(i),n.d(i,"createAndFireEventInElementsChannel",(function(){return u})),n.d(i,"createAndFireSafe",(function(){return m})),n.d(i,"createRestSucceededEvent",(function(){return b})),n.d(i,"createRestFailedEvent",(function(){return j})),n.d(i,"createReactionsRenderedEvent",(function(){return g})),n.d(i,"createPickerButtonClickedEvent",(function(){return x})),n.d(i,"createPickerCancelledEvent",(function(){return v})),n.d(i,"createPickerMoreClickedEvent",(function(){return O})),n.d(i,"createReactionSelectionEvent",(function(){return k})),n.d(i,"createReactionHoveredEvent",(function(){return y})),
n.d(i,"createReactionFocusedEvent",(function(){return A})),n.d(i,"createReactionClickedEvent",(function(){return F})),n.d(i,"extractErrorInfo",(function(){return E}));var o={};n.r(o),n.d(o,"ExperienceName",(function(){return C})),n.d(o,"ComponentName",(function(){return R})),n.d(o,"PickerRender",(function(){return I})),n.d(o,"ReactionsRendered",(function(){return S})),n.d(o,"ReactionsAdd",(function(){return N})),n.d(o,"ReactionDialogOpened",(function(){return D})),n.d(o,"ReactionDialogClosed",(function(){return M})),n.d(o,"ReactionDialogSelectedReactionChanged",(function(){return P})),n.d(o,"ReactionDetailsFetch",(function(){return T})),n.d(o,"ReactionsRemove",(function(){return L})),n.d(o,"sampledReactionsRendered",(function(){return _}));var r={};n.r(r),n.d(r,"DefaultReactions",(function(){return B})),n.d(r,"ExtendedReactions",(function(){return U})),n.d(r,"DefaultReactionsByShortName",(function(){return V})),n.d(r,"ExtendedReactionsByShortName",(function(){return W})),
n.d(r,"TOOLTIP_USERS_LIMIT",(function(){return G})),n.d(r,"NUMBER_OF_REACTIONS_TO_DISPLAY",(function(){return J}));var a={};n.r(a),n.d(a,"isLeftClick",(function(){return Q})),n.d(a,"isDefaultReaction",(function(){return Y})),n.d(a,"formatStringWithDecimal",(function(){return X})),n.d(a,"formatLargeNumber",(function(){return ee}));var s={};n.r(s),n.d(s,"messages",(function(){return te}));var c=n("3tO9"),d=n.n(c),l=n("viI9");const u=Object(n("qgDP").a)("fabric-elements"),m=(e,t,...n)=>{e&&u(t(...n))(e)},p=(e,t,n,i)=>(o={})=>({action:e,actionSubject:t,eventType:n,actionSubjectId:i,attributes:d()(d()({},o),{},{packageName:l.a,packageVersion:l.b})}),h=e=>e?Date.now()-e:void 0,f=e=>e?e.reacted?"existingReacted":"existingNotReacted":"new",b=e=>p("succeeded",e,"operational")(),j=(e,t)=>p("failed",e,"operational")({errorCode:t}),g=e=>p("rendered","reactionView","operational")({duration:h(e)}),x=e=>p("clicked","reactionPickerButton","ui")({reactionEmojiCount:e
}),v=e=>p("cancelled","reactionPicker","ui")({duration:h(e)}),O=e=>p("clicked","reactionPicker","ui","more")({duration:h(e)}),k=(e,t,n,i)=>p("clicked","reactionPicker","ui","emoji")({duration:h(i),source:e,previousState:f(n),emojiId:t}),y=e=>p("hovered","existingReaction","ui")({duration:h(e)}),A=e=>p("focused","existingReaction","ui")({duration:h(e)}),F=(e,t)=>p("clicked","existingReaction","ui")({added:e,emojiId:t}),E=e=>e instanceof Error?{name:e.name,message:e.message}:e,w=(e,t,n)=>({platform:{component:e},type:t,performanceType:n});let C,R;!function(e){e.REACTIONS_RENDERED="reactions-rendered",e.PICKER_OPENED="reactions-picker-opened",e.REACTION_ADDED="reaction-added",e.REACTION_REMOVED="reaction-removed",e.REACTION_DETAILS_FETCHED="reaction-details-fetched",e.REACTION_DIALOG_OPENED="reaction-dialog-opened",e.REACTION_DIALOG_CLOSED="reaction-dialog-closed",e.REACTION_DIALOG_SELECTED_REACTION_CHANGED="reaction-dialog-selected-reaction-changed"}(C||(C={})),function(e){
e.PICKER_RENDERED="reactions-picker",e.REACTIONS="reactions-list",e.REACTION_ITEM="reaction-item",e.REACTION_DIALOG="reaction-dialog"}(R||(R={}))
;const I=new(n("/EXU").a)(C.PICKER_OPENED,w(R.PICKER_RENDERED,n("qZMz").b.Experience,n("qZMz").a.InlineResult)),S=new(n("jwUo").a)(C.REACTIONS_RENDERED,w(R.REACTIONS,n("qZMz").b.Load,n("qZMz").a.PageSegmentLoad)),N=new(n("jwUo").a)(C.REACTION_ADDED,w(R.REACTIONS,n("qZMz").b.Experience,n("qZMz").a.InlineResult)),D=new(n("/EXU").a)(C.REACTION_DIALOG_OPENED,w(R.REACTION_DIALOG,n("qZMz").b.Experience,n("qZMz").a.InlineResult)),M=new(n("/EXU").a)(C.REACTION_DIALOG_CLOSED,w(R.REACTION_DIALOG,n("qZMz").b.Experience,n("qZMz").a.InlineResult)),P=new(n("/EXU").a)(C.REACTION_DIALOG_SELECTED_REACTION_CHANGED,w(R.REACTION_DIALOG,n("qZMz").b.Experience,n("qZMz").a.InlineResult)),T=new(n("jwUo").a)(C.REACTION_DETAILS_FETCHED,w(R.REACTION_ITEM,n("qZMz").b.Experience,n("qZMz").a.InlineResult)),L=new(n("jwUo").a)(C.REACTION_REMOVED,w(R.REACTIONS,n("qZMz").b.Experience,n("qZMz").a.InlineResult)),_=e=>Object(n("aGWp").a)(S.getInstance(e));var z=n("lSNA"),$=n.n(z),q=n("NY1e");class H{constructor(e,t){
$()(this,"requestService",((e,t)=>q.b.requestService(this.serviceConfig,d()(d()({},t),{},{path:e})))),this.serviceConfig={url:e},this.sessionToken=t}getHeaders(){const e={Accept:"application/json","Content-Type":"application/json"};return this.sessionToken&&(e.Authorization=this.sessionToken),e}getReactions(e,t){return 0===t.length?Promise.resolve({}):this.requestService("reactions/view",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify({containerAri:e,aris:t})}})}getDetailedReaction(e,t,n){const i=`${e}|${t}|${n}`,o=this.getHeaders();return this.requestService("reactions",{queryParams:{reactionId:i},requestInit:{headers:o,method:"GET",credentials:"include"}})}addReaction(e,t,n,i){return this.requestService("reactions",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify(d()({emojiId:n,ari:t,containerAri:e},i?{metadata:JSON.stringify(i)}:{})),credentials:"include"}}).then((({reactions:e})=>e))}deleteReaction(e,t,n,i){
return this.requestService("reactions",{queryParams:d()({ari:t,emojiId:n,containerAri:e},i?{metadata:JSON.stringify(i)}:{}),requestInit:{method:"DELETE",headers:this.getHeaders(),credentials:"include"}}).then((({reactions:e})=>e))}}const B=[{id:"1f44d",shortName:":thumbsup:"},{id:"1f44f",shortName:":clap:"},{id:"1f525",shortName:":fire:"},{id:"2764",shortName:":heart:"},{id:"1f632",shortName:":astonished:"},{id:"1f914",shortName:":thinking:"}],U=[{id:"1f44d",shortName:":thumbsup:"},{id:"1f44f",shortName:":clap:"},{id:"1f525",shortName:":fire:"},{id:"2764",shortName:":heart:"},{id:"1f632",shortName:":astonished:"},{id:"1f914",shortName:":thinking:"},{id:"1f44e",shortName:":thumbsdown:"},{id:"1f4a1",shortName:":bulb:"},{id:"2b50",shortName:":star:"},{id:"1f49a",shortName:":green_heart:"},{id:"1f499",shortName:":blue_heart:"},{id:"1f494",shortName:":broken_heart:"},{id:"1f600",shortName:":grinning:"},{id:"1f642",shortName:":slight_smile:"
}],V=new Map(B.map((e=>[e.shortName,e]))),W=new Map(U.map((e=>[e.shortName,e]))),G=5,J=9,Q=e=>!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey),Y=e=>B.some((t=>K(t,e))),K=(e,t)=>Z(e)&&Z(t)?e===t||e&&t&&e.id===t.id&&e.shortName===t.shortName:e===t,Z=e=>void 0!==e.id,X=(e,t)=>{const n=e.indexOf(".");return-1===n?e.substring(0,e.length):0===t?e.substring(0,n):e.substring(0,n+t+1)},ee=e=>{const t=e/1e3,n=e/1e6;if(e>999999999)return"999.9M+";if(e>=1e6){const t=e.toString().length;return"0"===n.toString().charAt(t-5)?X(n.toString(),0)+"M":X(n.toString(),1)+"M"}if(e>=1e3){const n=e.toString().length;return"0"===t.toString().charAt(n-2)?X(t.toString(),0)+"K":X(t.toString(),1)+"K"}return e.toString()},te=Object(n("D6b/").defineMessages)({addReaction:{id:"fabric.reactions.add",defaultMessage:"Add reaction",description:"Message for add reaction button"},loadingReactions:{id:"fabric.reactions.loading",defaultMessage:"Loading...",description:"Message while reactions are being loaded"},
moreEmoji:{id:"fabric.reactions.more.emojis",defaultMessage:"More emojis",description:'Tooltip of the "show more" button in the quick reaction selector. The full emoji selector is displayed when the user clicks on it.'},moreInfo:{id:"fabric.reactions.more.info",defaultMessage:"More info",description:"Clickable text in a tooltip that will display more information about the users who reacted"},reactWithEmoji:{id:"fabric.reactions.reactwithemoji",defaultMessage:"React with {emoji} emoji",description:"Aria label on reaction button"},unexpectedError:{id:"fabric.reactions.error.unexpected",defaultMessage:"Reactions are temporarily unavailable",description:"Unexpected error message"},otherUsers:{id:"fabric.reactions.other.reacted.users",defaultMessage:"{count, plural, one {and one other} other {and {count} others}}",description:"The number of users that have reacted similarly, but aren't shown"},closeReactionsDialog:{id:"reactions.dialog.close",defaultMessage:"Close",
description:"Close Reactions Dialog"},reactionsCount:{id:"reactions.dialog.reactions.count",defaultMessage:"{count, plural,\n        one {# reaction}\n        other {# reactions}\n      }",description:"The count of Reactions displayed in Reactions Dialog"},leftNavigateLabel:{id:"reactions.dialog.left.navigate",defaultMessage:"Left Navigate",description:"Navigation Link to navigate to left"},rightNavigateLabel:{id:"reactions.dialog.right.navigate",defaultMessage:"Right Navigate",description:"Navigation Link to navigate to right"},emojiName:{id:"reactions.dialog.emoji.name",defaultMessage:"{emojiName}",description:"Description of the emoji"},seeWhoReacted:{id:"reactions.dialog.viewall",defaultMessage:"See who reacted",description:"Link button to show who reacted in a modal"},seeWhoReactedTooltip:{id:"reactions.dialog.viewall.tooltip",defaultMessage:"View all user reactions",description:"Tooltip content of see who reacted link"}});var ne=n("q1tI"),ie=n.n(ne)
;const oe=Object(n("AeFk").css)({fontSize:11,color:"var(--ds-text-subtlest, #8993A4)",overflow:"hidden",position:"relative",padding:"4px 8px 4px 0",lineHeight:"14px"}),re=Object(n("AeFk").css)({color:"var(--ds-text-selected, #0052CC)",fontWeight:600}),ae={name:"1fttcpj",styles:"display:flex;flex-direction:column"},se=({highlight:e=!1,limit:t,overLimitLabel:i,className:o,value:r,animationDuration:s=n("MLoa").b})=>{const c=Object(n("ulq1").a)(r),d=(e=>t&&i&&e>=t?i||"":0===e?"":a.formatLargeNumber(e))(r),l=!!c&&c<r;return Object(n("AeFk").jsx)("div",{className:o,"data-testid":"counter-wrapper",css:[oe,{width:7*d.length}]},Object(n("AeFk").jsx)(n("MJMf").a,null,Object(n("AeFk").jsx)(n("Auoo").a,{enterFrom:l?"bottom":"top",key:r,duration:s},((t,i)=>Object(n("AeFk").jsx)("div",{ref:t.ref,css:[ae,Object(n("AeFk").css)({position:"exiting"===i?"absolute":void 0})],className:t.className,"data-testid":"counter-container"},Object(n("AeFk").jsx)("div",{"data-testid":"counter_label_wrapper",
css:e&&re,key:r},d))))))};const ce=Object(n("AeFk").keyframes)({"0%":{backgroundColor:"transparent"},"20%":{backgroundColor:"var(--ds-background-selected-pressed, #B3D4FF)",borderColor:"var(--ds-border-selected, #0065FF)"},"75%":{backgroundColor:"var(--ds-background-selected-pressed, #B3D4FF)",borderColor:"var(--ds-border-selected, #0065FF)"},"100%":{backgroundColor:"var(--ds-background-selected-pressed, #B3D4FF)",borderColor:"var(--ds-border-selected, #0065FF)"}}),de={name:"w1atjl",styles:"width:100%;height:100%"},le=Object(n("AeFk").css)({animation:`${ce} 700ms ease-in-out`}),ue=e=>Object(n("AeFk").jsx)("div",{className:e.className,css:[de,e.flash&&le],"data-testid":"flash-animation"},e.children);var me=n("pVnL"),pe=n.n(me);const he=Object(n("AeFk").css)({maxWidth:"150px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",marginBottom:5,ul:{listStyle:"none",margin:0,padding:0,textAlign:"left"},li:{overflow:"hidden",textOverflow:"ellipsis",marginTop:5}
}),fe=Object(n("AeFk").css)({textTransform:"capitalize",color:"var(--ds-text-inverse, #8993A4)",fontWeight:600}),be=Object(n("AeFk").css)({color:"var(--ds-text-inverse, #8993A4)",fontWeight:300}),je=Object(n("AeFk").css)({cursor:"pointer",textDecoration:"underline",":hover":{backgroundColor:"var(--ds-background-neutral-bold, #172B4D)",color:"var(--ds-text-inverse, #FFFFFF)"}}),ge=({children:e,emojiName:t,reaction:{users:i=[],emojiId:o=""},maxReactions:a=r.TOOLTIP_USERS_LIMIT,handleUserListClick:c,allowUserDialog:d=!1,isEnabled:l=!0})=>{const u=i&&0!==i.length&&l?Object(n("AeFk").jsx)("div",{css:he,tabIndex:0},Object(n("AeFk").jsx)("ul",null,t?Object(n("AeFk").jsx)("li",{css:fe},t):null,i.slice(0,a).map((e=>Object(n("AeFk").jsx)("li",{key:e.id},e.displayName))),Object(n("AeFk").jsx)("li",{css:d?[be,je]:be,onClick:()=>{d&&c&&c(o)}},i.length>a?Object(n("AeFk").jsx)(n("3e7Q").a,pe()({},s.messages.otherUsers,{values:{count:i.length-a}
})):d&&Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.moreInfo)))):null;return Object(n("AeFk").jsx)(n("Yto1").a,{content:u,position:"bottom",testId:"render-reactionTooltip"},ie.a.Children.only(e))};const xe={name:"6r75ih",styles:"transform-origin:center center 0;line-height:12px;padding:4px 4px 4px 8px"},ve=Object(n("AeFk").css)({display:"flex",flexDirection:"row",alignItems:"flex-start",minWidth:"36px",height:"24px",background:"transparent",border:"1px solid var(--ds-border, #DFE1E6)",boxSizing:"border-box",borderRadius:"20px",color:"var(--ds-text-subtle, #505F79)",cursor:"pointer",margin:"4px 4px 0 0",padding:0,transition:"200ms ease-in-out","&:hover":{background:"var(--ds-background-neutral-subtle-hovered, #F4F5F7)"},"&:focus":{boxShadow:"0 0 0 2px var(--ds-border-focused, #4C9AFF)",transitionDuration:"0s, 0.2s",outline:"none"}}),Oe=Object(n("AeFk").css)({backgroundColor:"var(--ds-background-selected, #DEEBFF)",borderColor:"var(--ds-border-selected, #0065FF)","&:hover":{
background:"var(--ds-background-selected-hovered, #B3D4FF)"}}),ke=Object(n("AeFk").css)({display:"flex",flexDirection:"row",alignItems:"center",borderRadius:"10px",height:"22px"}),ye=({emojiProvider:e,onClick:t,reaction:o,onMouseEnter:r=(()=>{}),onFocused:c=(()=>{}),className:d,flash:l=!1,handleUserListClick:u=(()=>{}),allowUserDialog:m})=>{const p=Object(n("3NU0").a)(),h=Object(ne.useRef)(),f=Object(ne.useRef)(),{createAnalyticsEvent:b}=Object(n("rZ/p").a)(),[j,g]=Object(ne.useState)(),[x,v]=Object(ne.useState)(!0),O={id:o.emojiId,shortName:""};Object(ne.useEffect)((()=>{(async()=>{const t=await Promise.resolve(e),n=await t.findById(o.emojiId);n&&g(n.name)})()}),[e,o.emojiId]);const k=Object(ne.useCallback)((e=>{if(e.preventDefault(),a.isLeftClick(e)){const{reacted:n,emojiId:r}=o;i.createAndFireSafe(b,i.createReactionClickedEvent,!n,r),t(o.emojiId,e)}}),[b,o,t]),y=Object(ne.useCallback)((e=>{e.preventDefault(),v(!0),o.users&&o.users.length||(f.current=Date.now()),
i.createAndFireSafe(b,i.createReactionHoveredEvent,f.current),r(o.emojiId,e)}),[b,o,r]),A=Object(ne.useCallback)((e=>{e.preventDefault(),v(!0),o.users&&o.users.length||(h.current=Date.now()),i.createAndFireSafe(b,i.createReactionFocusedEvent,h.current),c(o.emojiId,e)}),[b,o,c]);return Object(n("AeFk").jsx)(ge,{emojiName:j,reaction:o,handleUserListClick:e=>{u(e),v(!1)},allowUserDialog:m,isEnabled:x},Object(n("AeFk").jsx)("button",{className:d,css:[ve,o.reacted&&Oe],"aria-label":p.formatMessage(s.messages.reactWithEmoji,{emoji:j}),type:"button","data-emoji-id":o.emojiId,"data-testid":"render_reaction_wrapper",onClick:k,onMouseEnter:y,onFocus:A,"data-emoji-button-id":o.emojiId},Object(n("AeFk").jsx)(ue,{flash:l,css:ke},Object(n("AeFk").jsx)("div",{css:[xe,0===o.count&&{padding:"4px 2px 4px 10px"}]},Object(n("AeFk").jsx)(n("YFa+").a,{emojiProvider:e,emojiId:O,fitToHeight:16})),Object(n("AeFk").jsx)(se,{value:o.count,highlight:o.reacted}))))};const Ae={name:"3lwbqm",
styles:"outline:none;display:flex;background-color:transparent;border:0;border-radius:5px;cursor:pointer;margin:0;padding:10px 8px;&:hover > span{transition:transform cubic-bezier(0.23, 1, 0.32, 1) 200ms;transform:scale(1.33);}"},Fe=({emojiId:e,onClick:t,emojiProvider:i})=>{const o=Object(n("3NU0").a)();return Object(n("AeFk").jsx)("button",{"data-testid":"button-emoji-id",onClick:n=>{n.preventDefault(),t&&a.isLeftClick(n)&&t(e,void 0,n)},"aria-label":o.formatMessage(s.messages.reactWithEmoji,{emoji:e.shortName}),type:"button",css:Ae},Object(n("AeFk").jsx)(n("YFa+").a,{emojiProvider:i,emojiId:e}))};const Ee={name:"zjik7",styles:"display:flex"},we=Object(n("AeFk").css)({opacity:0,outline:"none",backgroundColor:"transparent",border:0,borderRadius:`${Object(n("7w+A").borderRadius)()}px`,cursor:"pointer",margin:"4px 4px 4px 0",padding:"4px",width:"38px",verticalAlign:"top","&:hover":{backgroundColor:"var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08))"}
}),Ce=Object(n("AeFk").css)({backgroundColor:"var(--ds-border, rgba(9, 30, 66, 0.08))",margin:"8px 8px 8px 4px",width:"1px",height:"60%",display:"inline-block"}),Re=({onClick:e,style:t={},className:i={},buttonStyle:o})=>Object(n("AeFk").jsx)("div",{className:i.container,css:Ee,style:t.container,"data-testid":"show-more-wrapper"},Object(n("AeFk").jsx)("div",{css:Ce}),Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.moreEmoji,(r=>Object(n("AeFk").jsx)(n("Yto1").a,{content:r},Object(n("AeFk").jsx)("button",{className:i.button,css:[we,o],"aria-label":s.messages.moreEmoji.defaultMessage,type:"button",style:t.button,onMouseDown:e,"data-testid":"show-more-button"},Object(n("AeFk").jsx)(n.n(n("MSKp")).a,{label:"More"}))))));const Ie={name:"1ll54lo",styles:"box-sizing:border-box;display:flex;padding:0"},Se={name:"cug3zd",styles:"display:inline-block;opacity:0;&.selected{transition:transform 200ms ease-in-out  ;transform:translateY(-48px) scale(2.667);}"},Ne=Object(n("AeFk").keyframes)({"0%":{
opacity:1,transform:"scale(0.5)"},"75%":{transform:"scale(1.25)"},"100%":{opacity:1,transform:"scale(1)"}}),De=Object(n("AeFk").css)({animation:`${Ne} 150ms ease-in-out forwards`}),Me=({emojiProvider:e,onMoreClick:t,onSelection:i,showMore:o,pickerQuickReactionEmojiIds:a=r.DefaultReactions})=>{const[s,c]=Object(ne.useState)(),d=Object(ne.useRef)([]);Object(ne.useEffect)((()=>{const e=d.current;return function(){e.forEach(clearTimeout)}}),[]);const l=(e,t,n)=>{d.current.push(window.setTimeout((()=>{i(e,t,n)}),250)),c(e)},u=e=>({animationDelay:50*e+"ms"});return Object(n("AeFk").jsx)("div",{css:Ie},a?a.map(((t,i)=>{var o;return Object(n("AeFk").jsx)("div",{key:null!==(o=t.id)&&void 0!==o?o:t.shortName,className:t===s?"selected":void 0,css:[Se,De],style:u(i),"data-testid":"render-selector"},Object(n("AeFk").jsx)(n("Yto1").a,{content:t.shortName},Object(n("AeFk").jsx)(Fe,{emojiId:t,emojiProvider:e,onClick:l})))})):null,o?Object(n("AeFk").jsx)(Re,{key:"more",buttonStyle:De,style:{
button:u(r.DefaultReactions.length)},onClick:t}):null)},Pe=({miniMode:e=!1,disabled:t=!1})=>Object(n("AeFk").css)(d()(d()(d()({minWidth:"32px",height:"24px",padding:0,border:"1px solid var(--ds-border, #DFE1E6)",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"16px"},e&&{minWidth:"24px",padding:"4px",border:"none",borderRadius:`${Object(n("7w+A").borderRadius)()}px`}),t&&{color:"var(--ds-text-disabled, #A5ADBA) !important",cursor:"not-allowed"}),{},{"&:hover":{background:"var(--ds-background-neutral-subtle-hovered, #F4F5F7)"}})),Te=ie.a.forwardRef(((e,t)=>{const{onClick:i,miniMode:o,tooltipContent:r,disabled:a=!1,ariaAttributes:s={}}=e;return Object(n("AeFk").jsx)(n("Yto1").a,{testId:"render-tooltip-trigger",content:r},Object(n("AeFk").jsx)(n("340+").a,pe()({css:Pe({miniMode:o,disabled:a}),appearance:"subtle",onClick:(e,t)=>{i&&!a&&i(e,t)},"aria-disabled":a,iconBefore:Object(n("AeFk").jsx)(n.n(n("Y0zm")).a,{size:"small",label:"Add reaction"}),
spacing:"none",ref:t},s)))}));const Le={name:"17ngflb",styles:"vertical-align:middle;&.miniMode{display:inline-block;}"},_e={name:"zjik7",styles:"display:flex"},ze=Object(n("AeFk").css)({background:"var(--ds-surface-overlay, #FFFFFF)",borderRadius:`${Object(n("7w+A").borderRadius)()}px`,boxShadow:"var(--ds-shadow-overlay, 0 4px 8px -2px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31))","&> div":{boxShadow:void 0,marginTop:"4px",marginBottom:"4px"}}),$e="emoji-picker",qe=[{name:"hide",enabled:!1},{name:"offset",enabled:!0,options:{offset:[0,0]}},{name:"flip",enabled:!0,options:{flipVariations:!0,boundariesElement:"scrollParent"}},{name:"preventOverflow",enabled:!0}],He=ie.a.memo((e=>{
const{miniMode:t,className:i,emojiProvider:r,onSelection:a,allowAllEmojis:c,disabled:l,pickerQuickReactionEmojiIds:u,onShowMore:m=(()=>{}),onOpen:p=(()=>{}),onCancel:h=(()=>{}),tooltipContent:f=Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.addReaction),emojiPickerSize:b}=e,j=Object(ne.useRef)(null),g=Object(ne.useRef)(),[x,v]=Object(ne.useState)({isOpen:!1,showFullPicker:!!c&&Array.isArray(u)&&0===u.length});!function(e,t,n="click",i=!1,o=!0){Object(ne.useEffect)((()=>{function r(n){e.current&&n.target instanceof Node&&!e.current.contains(n.target)&&o&&t()}return document.addEventListener(n,r,i),()=>{document.removeEventListener(n,r,i)}}),[e,t,n,i,o])}(j,(()=>{h(),O()}),"click",!0,x.isOpen);const O=Object(ne.useCallback)((e=>{v({isOpen:!1,showFullPicker:!!c&&Array.isArray(u)&&0===u.length}),o.PickerRender.abort({metadata:{emojiId:e,source:"ReactionPicker",reason:"close dialog"}})}),[c,u]),k=Object(ne.useCallback)((e=>{e.preventDefault(),v({isOpen:!0,showFullPicker:!0}),m()
}),[m]),y=Object(ne.useCallback)((e=>{e.id&&(a(e.id,x.showFullPicker?"emojiPicker":"quickSelector"),O(e.id))}),[O,a,x.showFullPicker]),A=()=>{o.PickerRender.start(),v({isOpen:!x.isOpen,showFullPicker:!!c&&Array.isArray(u)&&0===u.length}),p(),o.PickerRender.success()};Object(ne.useEffect)((()=>{x.isOpen&&g.current&&g.current()}),[x]);const F=` ${x.isOpen?"isOpen":""} ${t?"miniMode":""} ${i}`;return Object(n("AeFk").jsx)("div",{className:F,css:Le,"data-testid":"reactionPicker-testid",ref:j},Object(n("AeFk").jsx)(n("zhZB").a,null,Object(n("AeFk").jsx)(n("KEVd").a,null,(({ref:e})=>Object(n("AeFk").jsx)(Te,{ariaAttributes:{"aria-expanded":x.isOpen,"aria-controls":$e},ref:e,onClick:A,miniMode:t,disabled:l,tooltipContent:f}))),Object(n("AeFk").jsx)(n("csha").a,{placement:"bottom-start",modifiers:qe},(({ref:e,style:t,update:i})=>(g.current=i,Object(n("AeFk").jsx)(ne.Fragment,null,x.isOpen&&Object(n("AeFk").jsx)("div",{id:$e,style:d()({zIndex:n("7w+A").layers.layer()},t),ref:e
},Object(n("AeFk").jsx)("div",{css:ze},x.showFullPicker?Object(n("AeFk").jsx)(n("+IWU").a,{emojiProvider:r,onSelection:y,size:b}):Object(n("AeFk").jsx)("div",{css:_e},Object(n("AeFk").jsx)(Me,{emojiProvider:r,onSelection:y,showMore:c,onMoreClick:k,pickerQuickReactionEmojiIds:u}))))))))))}));let Be;!function(e){e.ready="READY",e.loading="LOADING",e.error="ERROR",e.notLoaded="NOT_LOADED",e.disabled="DISABLED"}(Be||(Be={}));const Ue=48,Ve=56*r.NUMBER_OF_REACTIONS_TO_DISPLAY+Ue-2,We=e=>Object(n("AeFk").css)({overflow:"hidden",maxWidth:`${Ve}px`,height:"100%",display:"flex",justifyContent:"start",position:"relative",scrollBehavior:"smooth","&:after":{content:'""',zIndex:0,display:"block",minWidth:`${e}%`,bottom:"0px",position:"absolute"}}),Ge=Object(n("AeFk").css)({"& > h1":{fontSize:"24px!important",color:"var(--ds-text, #172B4D)"}}),Je={rightEdge:270,leftEdge:90},Qe=e=>Object(n("AeFk").css)({display:"flex",alignSelf:"center",lineHeight:"14px",fontSize:"11px",fontWeight:e?700:400,
paddingRight:"0px",marginTop:"5px","> div":{width:"100%",padding:"0px!important",color:e?"var(--ds-text, #0052CC)!important":"2px solid var(--ds-text, #42526E)!important"}}),Ye=(e,t)=>Object(n("AeFk").css)({content:'""',position:"absolute",left:"0px",top:"0px",width:"48px",height:"48px",zIndex:0,background:"dark"===t||"legacy-dark"===t?`linear-gradient(${Je[e]}deg, rgba(34, 39, 43, 0.95) 40.23%, rgba(34, 39, 43, 0.55) 58.33%, rgba(34, 39, 43, 0) 77.49%)`:`linear-gradient(${Je[e]}deg, rgba(255, 255, 255, 0.95) 40.23%, rgba(255, 255, 255, 0.55) 58.33%, rgba(255, 255, 255, 0) 77.49%)`}),Ke=(e,t,i)=>Object(n("AeFk").css)({flexShrink:0,display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center",justifyContent:"center",minWidth:"48px",minHeight:"48px",marginRight:"8px",boxSizing:"border-box",position:"relative","> div":{minWidth:"48px",minHeight:"48px",padding:"0px !important",alignItems:"center",justifyContent:"center"},"& > span":{minHeight:"16px",minWidth:"16px"},
"&.disabled:after":Ye("rightEdge",i),"&.disabled + &.disabled:after":Ye("leftEdge",i),"&:after":e?{content:'""',borderBottom:"2px solid var(--ds-text, #0052CC)",width:"48px",bottom:"0px",display:"block",position:"absolute",zIndex:2}:{content:'""',borderBottom:"2px solid transparent",width:"48px",bottom:"0px",display:"block",position:"absolute",zIndex:1}}),Ze=Object(n("AeFk").css)({marginTop:"24px",display:"flex",flexDirection:"column",p:{margin:0,color:"var(--ds-text, #172B4D)",textTransform:"capitalize",fontWeight:600,fontSize:16,lineHeight:"20px","> span":{marginRight:8}}}),Xe=Object(n("AeFk").css)({listStyle:"none",marginTop:16,padding:0,textAlign:"left",li:{color:"var(--ds-text, #42526E)",fontSize:14}}),et={name:"p5qqdd",styles:"display:flex;align-items:center;padding:8px 0px 8px 0px;> span{margin-left:16px;}"},tt={name:"6vnq00",styles:"overflow:auto;scroll-behavior:smooth;display:flex;padding-bottom:4px;div[role=tablist]{flex-grow:1;}"},nt={name:"zsjmih",
styles:"display:flex;justify-content:center;align-items:center;height:100%"},it=({selectedEmojiId:e,emojiProvider:t,reaction:i})=>{const o=Object(n("3NU0").a)(),[r,a]=Object(ne.useState)("");Object(ne.useEffect)((()=>{(async()=>{const n=await t,i=await n.findByEmojiId({shortName:"",id:e});i&&i.name&&a(i.name)})()}),[t,e]);const c=Object(ne.useMemo)((()=>{var e;return(null===(e=i.users)||void 0===e?void 0:e.sort(((e,t)=>e.displayName.localeCompare(t.displayName))))||[]}),[i]),d=Object(n("Lylu").c)();return Object(n("AeFk").jsx)("div",pe()({css:Ze},d),Object(n("AeFk").jsx)("p",null,Object(n("AeFk").jsx)(n("YFa+").a,{emojiProvider:t,emojiId:{id:e,shortName:""},fitToHeight:24}),o.formatMessage(s.messages.emojiName,{emojiName:r})),0===c.length?Object(n("AeFk").jsx)("div",{css:nt},Object(n("AeFk").jsx)(n("6UK4").a,{size:"large"})):Object(n("AeFk").jsx)("ul",{css:Xe},c.map((e=>{var t;const i=null===(t=e.profilePicture)||void 0===t?void 0:t.path;return Object(n("AeFk").jsx)("li",{css:et,
key:e.id},Object(n("AeFk").jsx)(n("PkeC").a,{size:"large",src:i}),Object(n("AeFk").jsx)("span",null,e.displayName))}))))},ot=({reactions:e,initialEmojiId:t,emojiProvider:i,onReactionChanged:o})=>{const[r,a]=Object(ne.useState)((()=>({index:e.findIndex((e=>e.emojiId===t)),id:t}))),s=Object(n("EvFA").b)(),c=Object(ne.useCallback)(((t,n)=>{if(t===r.index)return;const i=e[t].emojiId;a({index:t,id:i}),o(i,n)}),[r.index,e,o]);return Object(n("AeFk").jsx)(n("eDJ+").a,{id:"reactions-dialog-tabs",onChange:c,selected:r.index},Object(n("AeFk").jsx)("div",{css:tt,id:"reactions-dialog-tabs-list"},Object(n("AeFk").jsx)(n("IB+5").a,null,e.map((e=>{const t={id:e.emojiId,shortName:""};return Object(n("AeFk").jsx)("div",{css:Ke((null==t?void 0:t.id)===r.id,r.id,s),className:"reaction-elements",key:e.emojiId,"data-testid":null==t?void 0:t.id},Object(n("AeFk").jsx)(n("GgXV").a,null,Object(n("AeFk").jsx)(n("YFa+").a,{emojiProvider:i,emojiId:t,fitToHeight:16,showTooltip:!0}),Object(n("AeFk").jsx)("div",{
css:Qe((null==t?void 0:t.id)===r.id)},Object(n("AeFk").jsx)(se,{value:e.count}))))})))),e.map((e=>Object(n("AeFk").jsx)(it,{key:e.emojiId,reaction:e,selectedEmojiId:r.id,emojiProvider:i}))))},rt=({reactions:e=[],handleCloseReactionsDialog:t=(()=>{}),emojiProvider:i,selectedEmojiId:o,handleSelectReaction:a=(()=>{})})=>{const[c,d]=Object(ne.useState)(),[l,u]=Object(ne.useState)(null),m=Object(ne.useRef)(),p=Object(ne.useRef)(),h=Object(n("3NU0").a)(),f=Object(ne.useRef)(!1),b=Object(ne.useMemo)((()=>e.reduce(((e,t)=>e+(null==t?void 0:t.count)),0)),[e]),j=Object(ne.useMemo)((()=>e.sort(((e,t)=>(null==t?void 0:t.count)-(null==e?void 0:e.count)))),[e]),g=Object(ne.useMemo)((()=>100*Math.ceil(e.length/r.NUMBER_OF_REACTIONS_TO_DISPLAY)),[e]),x=Object(ne.useCallback)((e=>{e.forEach(((e,t)=>{var n;const i=e.target,r=null==i?void 0:i.querySelector("[data-emoji-id]"),a=null==r||null===(n=r.dataset)||void 0===n?void 0:n.emojiId;e.intersectionRatio<1?(i.classList.add("disabled"),
a!==o||f.current||d(null!=r?r:void 0)):(a!==o||f.current||(f.current=!0),i.classList.remove("disabled"))}))}),[o]);Object(ne.useEffect)((()=>{if(c&&!f.current&&l){f.current=!0;const e=c.closest(".reaction-elements"),t=document.querySelector("#reactions-dialog-tabs-list"),{clientWidth:n}=(e=>({clientWidth:null==e?void 0:e.clientWidth,scrollWidth:null==e?void 0:e.scrollWidth,scrollLeft:null==e?void 0:e.scrollLeft}))(t),i=null==e?void 0:e.offsetLeft;if(t&&i>n){const e=Math.trunc(i/n)*n;t.scrollLeft+=e}}}),[c,l]),Object(ne.useEffect)((()=>{if(l){const e={root:l,rootMargin:"0px",threshold:1};p.current=new IntersectionObserver(x,e),m.current=l.querySelectorAll(".reaction-elements"),m.current&&m.current.length>0&&m.current.forEach((e=>{var t;null==p||null===(t=p.current)||void 0===t||t.observe(e)}))}return()=>{p.current&&(p.current.disconnect(),p.current=void 0)}}),[l,e,x,o]);const v=Object(ne.useCallback)((e=>{l||u(e)}),[]);return Object(n("AeFk").jsx)(n("xGEt").a,{onClose:t,height:600,
testId:"render-reactions-modal"},Object(n("AeFk").jsx)(n("S5I1").default,null,Object(n("AeFk").jsx)("div",{css:Ge},Object(n("AeFk").jsx)(n("AFFc").default,null,h.formatMessage(s.messages.reactionsCount,{count:b})))),Object(n("AeFk").jsx)(n("65si").default,null,Object(n("AeFk").jsx)("div",{css:We(g),ref:v},Object(n("AeFk").jsx)(ot,{initialEmojiId:o,reactions:j,emojiProvider:i,onReactionChanged:a}))),Object(n("AeFk").jsx)(n("dtdJ").default,null,Object(n("AeFk").jsx)(n("340+").a,{appearance:"primary",onClick:t,autoFocus:!0},h.formatMessage(s.messages.closeReactionsDialog))))};const at={name:"18y4ycy",styles:"display:inline-block;margin-top:4px"},st={name:"16j7gy3",styles:"height:24px;line-height:24px;padding-left:0;padding-right:0;margin-top:4px;margin-left:4px"},ct={name:"mj4mk4",styles:"display:flex;flex-wrap:wrap;position:relative;align-items:center;border-radius:15px;margin-top:-4px;> :first-of-type > :first-of-type{margin-left:0;}"},dt={openDialog:o.ReactionDialogOpened,
closeDialog:o.ReactionDialogClosed,selectedReactionChangeInsideDialog:o.ReactionDialogSelectedReactionChanged};function lt(e,t){switch(e){case Be.error:return t||Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.unexpectedError);case Be.disabled:return null;case Be.notLoaded:case Be.loading:return Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.loadingReactions);case Be.ready:return Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.addReaction)}}const ut=ie.a.memo((({flash:e={},status:t,errorMessage:o,loadReaction:r,quickReactionEmojis:a,pickerQuickReactionEmojiIds:c,getReactionDetails:d=(()=>{}),onReactionHover:l=(()=>{}),onSelection:u,reactions:m=[],emojiProvider:p,allowAllEmojis:h,onReactionClick:f,allowUserDialog:b,onDialogOpenCallback:j=(()=>{}),onDialogCloseCallback:g=(()=>{}),onDialogSelectReactionCallback:x=(()=>{}),emojiPickerSize:v="medium",miniMode:O=!1})=>{const[k,y]=Object(ne.useState)(),{createAnalyticsEvent:A}=Object(n("rZ/p").a)();let F=Object(ne.useRef)(),E=Object(ne.useRef)()
;Object(ne.useEffect)((()=>{t===Be.notLoaded&&r()}),[t,r]),Object(ne.useEffect)((()=>{var e;t!==Be.ready?E.current=Date.now():(i.createAndFireSafe(A,i.createReactionsRenderedEvent,null!==(e=E.current)&&void 0!==e?e:Date.now()),E.current=void 0)}),[A,t]);const w=Object(ne.useCallback)((e=>{d(e),l(e)}),[d,l]),C=Object(ne.useCallback)((e=>{d(e)}),[d]),R=Object(ne.useCallback)((()=>{F.current=Date.now(),i.createAndFireSafe(A,i.createPickerButtonClickedEvent,m.length)}),[A,m]),I=Object(ne.useCallback)((()=>{i.createAndFireSafe(A,i.createPickerCancelledEvent,F.current),F.current=void 0}),[A]),S=Object(ne.useCallback)((()=>{i.createAndFireSafe(A,i.createPickerMoreClickedEvent,F.current)}),[A]),N=Object(ne.useCallback)(((e,t)=>{i.createAndFireSafe(A,i.createReactionSelectionEvent,t,e,m.find((t=>t.emojiId===e)),F.current),F.current=void 0,u(e)}),[A,u,m]),D=e=>{dt.openDialog.start(),y(e),j(e,"tooltip"),dt.openDialog.success({metadata:{emojiId:e,source:"Reactions",
reason:"Opening dialog from emoji tooltip link successfully"}})},M=Object(ne.useMemo)((()=>{if(m.length>0||!a)return m;const{ari:e,containerAri:t,emojiIds:n}=a,i=n.filter((e=>!m.some((t=>t.emojiId===e)))).map((n=>({ari:e,containerAri:t,emojiId:n,count:0,reacted:!1})));return m.concat(i)}),[a,m]);return Object(n("AeFk").jsx)("div",{css:ct,"data-testid":"render-reactions"},M.map((t=>Object(n("AeFk").jsx)(ye,{key:t.emojiId,reaction:t,emojiProvider:p,onClick:f,onMouseEnter:w,onFocused:C,flash:e[t.emojiId],handleUserListClick:D,allowUserDialog:b}))),Object(n("AeFk").jsx)(He,{css:at,emojiProvider:p,allowAllEmojis:h,pickerQuickReactionEmojiIds:c,disabled:t!==Be.ready,onSelection:N,onOpen:R,onCancel:I,onShowMore:S,tooltipContent:lt(t,o),emojiPickerSize:v,miniMode:O}),b&&m.length>0&&Object(n("AeFk").jsx)(n("Yto1").a,{content:Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.seeWhoReactedTooltip),hideTooltipOnClick:!0},Object(n("AeFk").jsx)(n("340+").a,{appearance:"subtle-link",onClick:()=>{
dt.openDialog.start();const e=m[0].emojiId;d(e),y(e),j(e,"button"),dt.openDialog.success({metadata:{emojiId:e,source:"Reactions",reason:"Opening all reactions dialog link successfully"}})},css:st,testId:"viewall-reacted-users-dialog"},Object(n("AeFk").jsx)(n("3e7Q").a,s.messages.seeWhoReacted))),Object(n("AeFk").jsx)(n("GPgl").a,null,!!k&&Object(n("AeFk").jsx)(rt,{selectedEmojiId:k,reactions:M,emojiProvider:p,handleCloseReactionsDialog:(e,t)=>{dt.closeDialog.start(),y(""),g(e,t),dt.closeDialog.success({metadata:{source:"Reactions",reason:"Closing reactions dialog successfully"}})},handleSelectReaction:(e,t)=>{dt.selectedReactionChangeInsideDialog.start(),w(e),x(e,t),dt.selectedReactionChangeInsideDialog.success({metadata:{emojiId:e,source:"Reactions",reason:"Selected Emoji changed"}})}})))}));class mt extends ie.a.Component{componentDidCatch(e,t){for(const n of this.props.experiences)n.failure({metadata:{source:"UfoErrorBoundary",reason:"error",error:{name:e.name,message:e.message,
infoStack:t.componentStack}}})}render(){return this.props.children}}mt.displayName="UfoErrorBoundary";var pt=n("QILm"),ht=n.n(pt),ft=n("OhBV");class bt extends ie.a.PureComponent{constructor(e){super(e),$()(this,"getPropsFromActions",(e=>{const{mapActionsToProps:t}=this.props;return t&&(this.previousActions&&this.propsFromActions&&this.previousActions===e||(this.propsFromActions=t(e))),this.previousActions=e,this.propsFromActions})),$()(this,"getPropsFromState",(e=>{const{mapStateToProps:t}=this.props;return t?t(e):void 0})),$()(this,"handleOnChange",(()=>{this.forceUpdate()})),this.state={store:void 0}}componentDidMount(){Promise.resolve(this.props.store).then((e=>{this.setState({store:e}),e.onChange(this.handleOnChange)}))}async componentWillUnmount(){this.state.store&&this.state.store.removeOnChangeListener(this.handleOnChange)}render(){
return this.state.store?this.props.children(Object.assign({},this.getPropsFromState(this.state.store.getState()),this.getPropsFromActions(this.state.store))):null}}bt.displayName="ReactionConsumer";const jt=(e,t)=>e.count>t.count?-1:e.count<t.count?1:((e,t)=>e.localeCompare(t))(e.emojiId,t.emojiId),gt=e=>({status:Be.ready,reactions:e.filter((e=>e.count>0))}),xt=e=>d()(d()({},e),{},{count:e.count+1,reacted:!0}),vt=e=>d()(d()({},e),{},{count:e.count-1,reacted:!1}),Ot=(e,t)=>e.concat(t);function kt(e){return!e||!(401===e||403===e)}const yt={add:o.ReactionsAdd,remove:o.ReactionsRemove,render:e=>_(e),fetchDetails:o.ReactionDetailsFetch};class At{constructor(e,t,n){$()(this,"callbacks",[]),$()(this,"initialState",{reactions:{},flash:{}}),$()(this,"setState",(e=>{this.state=d()(d()({},this.state),e),this.triggerOnChange()})),$()(this,"triggerOnChange",function(e){let t=[];return(...n)=>{0===t.length&&(window.setTimeout((()=>{e(t),t=[]})),t=[]),t.push(n)}
}((()=>this.callbacks.forEach((e=>e(this.state)))))),$()(this,"setReactions",((e,t,n)=>{this.setState({reactions:d()(d()({},this.state.reactions),{},{[`${e}|${t}`]:n})})})),$()(this,"handleDetailedReactionResponse",(e=>{const{containerAri:t,ari:n,emojiId:i}=e;this.withReaction((t=>d()(d()({},t),{},{users:e.users})))(t,n,i)})),$()(this,"flash",(e=>{this.setFlash(e.containerAri,e.ari,e.emojiId,!0),window.setTimeout((()=>this.setFlash(e.containerAri,e.ari,e.emojiId,!1)),700)})),$()(this,"optmisticUpdate",((e,t,n)=>i=>{this.withReadyReaction(e,t)((o=>{let r=!1;const a=o.reactions.map((e=>{if(e.emojiId===n){r=!0;const t=i(e);if(t)return d()(d()({},t),{},{optimisticallyUpdated:!0})}return e}));if(!r){const o=i({containerAri:e,ari:t,emojiId:n,count:0,reacted:!1});o&&a.push(d()(d()({},o),{},{optimisticallyUpdated:!0}))}return gt(a)}))})),$()(this,"doAddReaction",(e=>{const{containerAri:t,ari:n,emojiId:o}=e;this.optmisticUpdate(t,n,o)(xt),this.flash(e);const r=yt.add.getInstance(`${n}|${o}`)
;r.start(),r.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,ari:n,containerAri:t,emojiId:o}),this.client.addReaction(t,n,o,this.metadata).then((e=>{this.createAnalyticsEvent&&i.createAndFireSafe(this.createAnalyticsEvent,i.createRestSucceededEvent,"addReaction"),r.success()})).catch((e=>(kt(e.code)&&(this.createAnalyticsEvent&&i.createAndFireSafe(this.createAnalyticsEvent,i.createRestFailedEvent,"addReaction",e.code),r.failure({metadata:{error:E(e),reason:"addReaction fetch failed"}})),Promise.reject(e))))})),$()(this,"doRemoveReaction",(e=>{const{containerAri:t,ari:n,emojiId:i}=e,o=yt.remove.getInstance(`${n}|${i}`);o.start(),o.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,ari:n,containerAri:t,emojiId:i}),this.optmisticUpdate(t,n,i)(vt),this.client.deleteReaction(t,n,i,this.metadata).then((e=>{o.success()})).catch((e=>{o.failure({metadata:{error:E(e),reason:"deleteReaction fetch failed"}})}))})),$()(this,"setCreateAnalyticsEvent",(e=>{
this.createAnalyticsEvent=e})),$()(this,"getReactions",function(e){const t={};return(n,...i)=>{t[n]||(window.setTimeout((()=>{e(n,t[n]),delete t[n]})),t[n]=[]),t[n].push(i)}}(((e,t)=>{const n=yt.render(e),o=t.reduce(Ot);n.start({samplingRate:50}),n.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,containerAri:e,aris:o.join(",")}),this.client.getReactions(e,o).then((t=>{Object.keys(t).map((n=>{const i=this.getReactionsState(e,n),o=i&&i.status===Be.ready?i.reactions:void 0;this.setReactions(e,n,gt(t[n].sort((e=>e&&e.length?(e=>{const t=e.reduce(((e,t,n)=>(e[t.emojiId]=n,e)),{}),n=({emojiId:n})=>void 0===t[n]?e.length:t[n];return(e,t)=>n(e)-n(t)})(e):jt)(o))))}))})).then((()=>{this.createAnalyticsEvent&&i.createAndFireSafe(this.createAnalyticsEvent,i.createRestSucceededEvent,"getReactions"),n.success()})).catch((t=>{kt(t.code)&&(this.createAnalyticsEvent&&i.createAndFireSafe(this.createAnalyticsEvent,i.createRestFailedEvent,"getReactions"),n.failure({metadata:{
error:E(t),reason:"getReactions fetch failed"}}));const r=o.reduce(((t,n)=>d()(d()({},t),{},{[`${e}|${n}`]:{reactions:[],status:Be.error}})),{});return this.setState(d()(d()({},this.state),{},{reactions:d()(d()({},this.state.reactions),r)})),Promise.reject(t)}))}))),$()(this,"toggleReaction",this.withReaction(this.doRemoveReaction,this.doAddReaction)),$()(this,"addReaction",this.withReaction(this.flash,this.doAddReaction)),$()(this,"getDetailedReaction",((e,t,n)=>{const i=yt.fetchDetails.getInstance(`${t}|${n}`);i.start(),i.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,ari:t,containerAri:e,emojiId:n}),this.client.getDetailedReaction(e,t,n).then((e=>{i.success(),this.handleDetailedReactionResponse(e)})).catch((e=>{i.failure({metadata:{error:E(e),reason:"getDetailedReaction fetch failed"}})}))})),$()(this,"getState",(()=>this.state)),$()(this,"onChange",(e=>{this.callbacks.push(e)})),$()(this,"removeOnChangeListener",(e=>{
this.callbacks=this.callbacks.filter((t=>t!==e))})),this.client=e,this.state=null!=t?t:this.initialState,this.metadata=n}getReactionsState(e,t){return this.state.reactions[`${e}|${t}`]}setFlash(e,t,n,i){this.setState({flash:d()(d()({},this.state.flash),{},{[`${e}|${t}`]:d()(d()({},this.state.flash[`${e}|${t}`]),{},{[n]:i})})})}withReadyReaction(e,t){return n=>{const i=this.getReactionsState(e,t);if(i&&i.status===Be.ready){const o=n(i);o&&this.setReactions(e,t,o)}}}withReaction(e,t){return(n,i,o)=>{this.withReadyReaction(n,i)((r=>{const a=r.reactions.find((e=>t=>t.emojiId===e)(o))||{containerAri:n,ari:i,emojiId:o,count:0,reacted:!1},s=(a.reacted||!t?e:t)(a);if(s&&!(s instanceof Function))return gt(r.reactions.map(((e,t)=>n=>n.emojiId===e?t instanceof Function?t(n):t:n)(o,s)))}))}}}const Ft=["ari","containerAri","store"],Et=e=>{
const{ari:t,containerAri:i,store:o}=e,r=ht()(e,Ft),[a,s]=Object(ne.useState)(),[c,d]=Object(ne.useState)(),l=Object(ne.useRef)(),{createAnalyticsEvent:u}=Object(n("rZ/p").a)();Object(ne.useEffect)((()=>{l.current=yt.render(t)}),[t]),Object(ne.useEffect)((()=>function(){var e;null===(e=l.current)||void 0===e||e.abort({metadata:{source:"ConnectedReactionsView",ari:t,containerAri:i,reason:"unmount"}})}),[l,i,t]);const m=Object(ne.useCallback)((e=>((e,t,n)=>{const i=n&&n.reactions[`${e}|${t}`];if(!n||!i)return{status:Be.notLoaded,reactions:[]};switch(i.status){case Be.ready:return{reactions:i.reactions,status:i.status,flash:n.flash[`${e}|${t}`]};case Be.error:return{status:Be.error,reactions:[]};default:return{status:Be.loading,reactions:[]}}})(i,t,e)),[i,t]),p=Object(ne.useCallback)((e=>((e,t,n)=>({loadReaction:()=>{e.getReactions(t,n)},onReactionClick:i=>{e.toggleReaction(t,n,i)},getReactionDetails:i=>{e.getDetailedReaction(t,n,i)},onSelection:i=>{e.addReaction(t,n,i)}}))(e,i,t)),[t,i])
;return Object(ne.useEffect)((()=>{(async()=>{const e=await Promise.resolve(o);e.setCreateAnalyticsEvent&&u&&e.setCreateAnalyticsEvent(u);const t=m(e.getState()),n=p(e);s(t),d(n)})()}),[u,o,t,i,m,p]),Object(ne.useEffect)((()=>{const e=e=>{const t=m(e);s(t)};return(async()=>{(await Promise.resolve(o)).onChange(e)})(),function(){(async()=>{(await Promise.resolve(o)).removeOnChangeListener(e)})()}}),[m,o]),ie.a.createElement(ft.f,{data:{containerAri:i,ari:t}},ie.a.createElement(mt,{experiences:l.current?[l.current]:[]},a&&c?ie.a.createElement(ut,pe()({key:`${i}|${t}`},r,c,a)):null))}},rH8c:function(e,t,n){"use strict";const i=e=>`emoji-placeholder-${e}`;t.a=e=>{const{shortName:t,size:o=20,showTooltip:r,representation:a,loading:s=!1}=e;let c,d;if(a&&o){const e=a.width,t=a.height;e&&t&&(c=o/t*e,d=o)}const l=c||o,u={fill:"f7f7f7",minWidth:`${l}px`,width:`${l}px`,height:`${d||o}px`};return Object(n("AeFk").jsx)("span",{"data-testid":i(t),"aria-busy":s,"aria-label":t,
className:"emoji-common-placeholder",css:s?[n("+OC9").C,n("+OC9").D]:n("+OC9").C,style:u,title:r?t:""})}},rffu:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return m}));const i={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},o=Object(n("7w+A").gridSize)(),r=Object(n("7w+A").borderRadius)(),a=2*o,s=3*o,c=o,d=o,l="var(--ds-border, #EBECF0)",u=`var(--ds-text, ${Object(n("JvXE").text)()})`,m={danger:"var(--ds-icon-danger, #DE350B)",warning:"var(--ds-icon-warning, #FF991F)"}},sVlj:function(e,t,n){"use strict";var i=n("QILm"),o=n.n(i),r=n("pVnL"),a=n.n(r),s=n("q1tI"),c=n.n(s)
;const d=["emoji","placeholderSize","showTooltip","fitToHeight","children"],l=e=>{const{emoji:t,placeholderSize:i,showTooltip:r,fitToHeight:l,children:u}=e,m=o()(e,d),{shortName:p,representation:h}=t,[f,b]=Object(s.useState)(),[j,g]=Object(s.useState)(!1),{emojiProvider:x}=Object(n("Iiav").a)(),v=Object(s.useCallback)((e=>{Object(n("wjyn").a)("Loading image via media cache",t.shortName),Object(n("xFh9").c)(t).mark(n("DhJ/").d.MEDIA_START),e.getMediaEmojiDescriptionURLWithInlineToken(t).then((e=>{b(e),g(!1),Object(n("xFh9").c)(t).mark(n("DhJ/").d.MEDIA_END)})).catch((e=>{b(void 0),g(!0),Object(n("xFh9").c)(t).failure({metadata:{error:Object(n("uVoC").g)(e),reason:"failed to load media emoji",source:"CachingMediaEmoji",emojiId:t.id}})}))}),[t]);Object(s.useEffect)((()=>{x&&v(x)}),[x,v]);const O=e=>{Object(n("xFh9").c)(e).failure({metadata:{reason:"load error",source:"CachingMediaEmoji",emojiId:e.id}}),g(!0)};return f&&!j?c.a.createElement(n("hXRZ").a,a()({},m,{showTooltip:r,
fitToHeight:l,emoji:f,onLoadError:O})):c.a.createElement(n("rH8c").a,{size:l||i,shortName:p,showTooltip:r,representation:h})};t.a=e=>{const{emoji:t}=e;Object(n("aQUV").a)(n("xFh9").d["emoji-rendered"].getInstance(t.id||t.shortName),20,{source:"CachingEmoji",emojiId:t.id}),Object(s.useEffect)((()=>{Object(n("xFh9").a)(Object(n("xFh9").c)(t),"fmp")||Object(n("xFh9").c)(t).markFMP()}),[]);return c.a.createElement(n("nfRB").a,{experiences:[n("xFh9").d["emoji-rendered"].getInstance(e.emoji.id||e.emoji.shortName)]},(()=>Object(n("l4Cm").k)(t)?c.a.createElement(l,e):c.a.createElement(n("hXRZ").a,e))())}},uVoC:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"n",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"p",(function(){return g})),n.d(t,"r",(function(){return x})),
n.d(t,"q",(function(){return v})),n.d(t,"s",(function(){return k})),n.d(t,"u",(function(){return y})),n.d(t,"t",(function(){return A})),n.d(t,"w",(function(){return F})),n.d(t,"v",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return R})),n.d(t,"o",(function(){return I})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return N})),n.d(t,"g",(function(){return D}));var i=n("3tO9"),o=n.n(i);const r=Object(n("qgDP").a)("fabric-elements"),a=(e,t,i,r,a={})=>({eventType:e,action:t,actionSubject:i,actionSubjectId:r,attributes:o()({packageName:n("HHRn").a,packageVersion:n("HHRn").b},a)}),s=e=>a("operational","succeeded","recordEmojiSelection",void 0,{source:e}),c=e=>a("operational","failed","recordEmojiSelection",void 0,{source:e}),d=(e,t={},n)=>a("ui",e,"emojiPicker",n,t),l=()=>d("opened"),u=e=>d("closed",e),m=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",
skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{id:"-1f3ff",skinToneModifier:"dark"}],p=e=>{if(!e)return{};for(const{id:t,skinToneModifier:n}of m)if(-1!==e.indexOf(t))return{skinToneModifier:n,baseEmojiId:e.replace(t,"")};return{}},h=e=>d("clicked",o()(o()({},p(e.emojiId)),e),"emoji"),f=e=>d("clicked",e,"category"),b=e=>d("searched",e,"query"),j=(e,t={})=>a("ui",e,"emojiSkintoneSelector",void 0,t),g=e=>j("clicked",e),x=e=>j("opened",e),v=()=>j("cancelled"),O=(e,t,n)=>a("ui",e,"emojiUploader",t,n),k=()=>O("clicked","addButton"),y=e=>O("clicked","confirmButton",e),A=()=>O("clicked","cancelButton"),F=e=>a("operational","finished","emojiUploader",void 0,e),E=e=>a("operational","failed","emojiUploader",void 0,e),w=e=>a("ui","clicked","emojiPicker","deleteEmojiTrigger",e),C=e=>a("ui","clicked","emojiPicker","deleteEmojiConfirm",e),R=e=>a("ui","clicked","emojiPicker","deleteEmojiCancel",e),I=()=>a("ui","clicked","emojiUploader","selectFile"),S=e=>()=>{
e&&e.createAnalyticsEvent&&Object(n("qgDP").a)("editor")(s("typeahead"))(e.createAnalyticsEvent)},N=e=>t=>(e&&e.createAnalyticsEvent&&Object(n("qgDP").a)("editor")(c("typeahead"))(e.createAnalyticsEvent),Promise.reject(t)),D=e=>e instanceof Error?{name:e.name,message:e.message}:e},viI9:function(e){e.exports=JSON.parse('{"a":"@atlaskit/reactions","b":"22.2.0"}')},xGEt:function(e,t,n){"use strict";var i=n("pVnL"),o=n.n(i),r=n("q1tI"),a=n("pxNp"),s=n.n(a);const c=e=>{if(!e)return"auto";const t=-1!==n("rffu").i.values.indexOf(e.toString())&&e;return t?`${n("rffu").i.widths[t]}px`:"number"==typeof e?`${e}px`:e},d=e=>e?"number"==typeof e?`${e}px`:e:"auto";const l=Object(n("AeFk").css)({display:"flex",width:"100%",maxWidth:"100%",height:"100%",position:"fixed",zIndex:n("7w+A").layers.modal(),top:0,left:0,flexDirection:"column"}),u=Object(n("AeFk").css)({height:"auto",position:"relative","@media (min-width: 480px)":{margin:"60px auto",pointerEvents:"none"}}),m=Object(n("AeFk").css)({
"@media (min-width: 480px)":{maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 119px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:"60px",right:0,left:0,pointerEvents:"none"}}),p=Object(n("AeFk").css)({transitionDuration:`${n("MLoa").b}ms`,transitionProperty:"transform",transitionTimingFunction:n("VvIz").b,"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}}),h={name:"937ak9",styles:"transform:translateY(var(--modal-dialog-translate-y))"},f={name:"179q9ic",styles:"transform:none"};var b=e=>{const{children:t,stackIndex:i,shouldScrollInViewport:o,testId:r}=e;return Object(n("AeFk").jsx)("div",{style:{"--modal-dialog-translate-y":i*(n("rffu").h/2)+"px"},css:[l,p,i>0?h:f,o?u:m],"data-testid":r&&`${r}--positioner`},t)};const j=Object(n("AeFk").css)({display:"flex",width:"100%",maxWidth:"100vw",height:"100%",minHeight:0,maxHeight:"100vh",flex:"0 1 auto",flexDirection:"column",backgroundColor:"var(--ds-surface-overlay, #FFFFFF)",
color:n("rffu").f,pointerEvents:"auto","@media (min-width: 480px)":{width:"var(--modal-dialog-width)",maxWidth:"inherit",marginRight:"inherit",marginLeft:"inherit",borderRadius:n("rffu").a,boxShadow:"var(--ds-shadow-overlay, 0 0 0 1px rgba(9, 30, 66, 0.08), 0 2px 1px rgba(9, 30, 66, 0.08), 0 0 20px -6px rgba(9, 30, 66, 0.31))"},"& > form:only-child":{display:"inherit",maxHeight:"inherit",flexDirection:"inherit"}}),g={name:"ih41jc",styles:"min-height:100vh;max-height:none;@media (min-width: 480px){min-height:var(--modal-dialog-height);}"},x={name:"1mdptwd",styles:"@media (min-width: 480px){height:var(--modal-dialog-height);max-height:inherit;}"};var v=e=>{const{width:t="medium",shouldScrollInViewport:i=!1,autoFocus:a,stackIndex:s,onClose:l,onCloseComplete:u,onOpenComplete:m,height:p,children:h,testId:f}=e,v=`modal-dialog-title-${Object(n("u2Gm").a)()}`;Object(n("NCz0").a)("object"==typeof a?a:void 0,"object"==typeof a);const[O,k]=function({onOpenComplete:e,onCloseComplete:t}){
const n=Object(r.useRef)(null),i=Object(r.useCallback)((i=>{"entering"===i&&e&&e(n.current,!0),"exiting"===i&&t&&t(n.current)}),[e,t]);return[n,i]}({onOpenComplete:m,onCloseComplete:u}),y=Object(r.useMemo)((()=>({testId:f,titleId:v,onClose:l})),[f,v,l]);return Object(n("AeFk").jsx)(b,{stackIndex:s,shouldScrollInViewport:i,testId:f},Object(n("AeFk").jsx)(n("bH4X").a.Provider,{value:y},Object(n("AeFk").jsx)(n("bH4X").b.Provider,{value:i},Object(n("AeFk").jsx)(n("FRPJ").a,{entranceDirection:"bottom",onFinish:k},(e=>Object(n("AeFk").jsx)(n("Q+8n").a,null,Object(n("AeFk").jsx)("section",o()({},e,{ref:Object(n("1yOk").a)([e.ref,O]),style:{"--modal-dialog-width":c(t),"--modal-dialog-height":d(p)},css:[j,i?g:x],role:"dialog","aria-labelledby":v,"data-testid":f,"data-modal-stack":s,tabIndex:-1,"aria-modal":!0}),h)))))))};const O=[];function k(){var e,t
;return window.pageYOffset||(null===(e=document.documentElement)||void 0===e?void 0:e.scrollTop)||(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||0}const y={name:"12aymf5",styles:"width:100vw;height:100vh;position:fixed;top:0;left:0;overflow-y:auto;-webkit-overflow-scrolling:touch"},A=e=>!e.hasAttribute("data-atlas-extension");t.a=e=>{const{autoFocus:t=!0,shouldCloseOnEscapePress:i=!0,shouldCloseOnOverlayClick:c=!0,shouldScrollInViewport:d=!1,stackIndex:l,onClose:u=n("Sf9E").a,onStackChange:m=n("Sf9E").a,isBlanketHidden:p,children:h,height:f,width:b,onCloseComplete:j,onOpenComplete:g,testId:x}=e,F=function({onStackChange:e}){const{isExiting:t}=Object(n("MJMf").b)(),[i,o]=Object(n("vYhH").a)(0),a=i.current,s=Object(n("ulq1").a)(i.current),c=Object(n("+mDI").a)((()=>{const e=O.indexOf(c);i.current!==e&&(o(e),i.current=e)}));return Object(r.useEffect)((()=>{const e=O.indexOf(c);t||-1!==e||O.unshift(c),t&&-1!==e&&O.splice(e,1),O.forEach((e=>e()))}),[c,t]),
Object(r.useEffect)((()=>()=>{const e=O.indexOf(c);-1!==e&&(O.splice(e,1),O.forEach((e=>e())))}),[c]),Object(r.useEffect)((()=>{void 0!==s&&s!==a&&e(a)}),[e,s,a]),a}({onStackChange:m}),E=l||F,w=0===E,C="boolean"==typeof t&&t,R=Object(n("NvXi").a)({fn:u,action:"closed",componentName:"modalDialog",packageName:"@atlaskit/modal-dialog",packageVersion:"12.4.2"}),I=Object(r.useCallback)((e=>{c&&R(e)}),[c,R]);!function(){const[e,t]=Object(r.useState)(0);Object(r.useLayoutEffect)((()=>{t(k())}),[]);const i=Object(r.useCallback)((()=>{k()!==e&&window.scrollTo(window.pageXOffset,e)}),[e]);Object(r.useEffect)((()=>Object(n("F2L9").bind)(window,{type:"scroll",listener:i})),[i])}(),Object(n("hT2A").a)({onClose:R,isDisabled:!i||!w});const S=Object(n("AeFk").jsx)(n("I+AD").a,{isTinted:!p,onBlanketClicked:I,testId:x&&`${x}--blanket`},Object(n("AeFk").jsx)(v,{testId:x,autoFocus:t,stackIndex:E,onClose:R,shouldScrollInViewport:d,height:f,width:b,onCloseComplete:j,onOpenComplete:g},h))
;return Object(n("AeFk").jsx)(n("8+lK").a,{zIndex:n("7w+A").layers.modal()},Object(n("AeFk").jsx)(n("FRPJ").a,null,(e=>Object(n("AeFk").jsx)("div",o()({},e,{css:y,"aria-hidden":!w}),Object(n("AeFk").jsx)(n("DUc8").a,{autoFocus:C,disabled:!w,returnFocus:!0,whiteList:A},Object(n("AeFk").jsx)(s.a,null),d?Object(n("AeFk").jsx)(a.TouchScrollable,null,S):S)))))}}}]);try{window.__jsEvalStop("async-comment-reactions.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-comment-reactions.fa176a62598b01a3d888.8.js.map