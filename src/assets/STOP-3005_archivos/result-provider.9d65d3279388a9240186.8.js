try{window.performance.mark("result-provider.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-internal_@atlassian/product-search-dialog/extensible/async/result-provider"],{"1JDK":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var s=r("3tO9"),n=r.n(s),c=r("q1tI"),a=r.n(c);const i=({onClick:e})=>a.a.createElement(r("0+Gd").a,{onClick:e,appearance:"subtle",theme:(e,t)=>{const r=e(n()({},t));return n()(n()({},r),{},{buttonStyles:n()(n()({},r.buttonStyles),{},{margin:"0 auto",display:"block"})})}},a.a.createElement(r("3e7Q").a,r("SM7q").a.common_give_feedback))},"6uMD":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));class s extends r("bUw2").a{start(){return this.startInvoked?Promise.resolve():(this.startInvoked=!0,super.start())}}},K2VS:function(e,t,r){"use strict";r.r(t),r.d(t,"ResultProviderStateMachine",(function(){return B})),r.d(t,"ResultProviderLegacy",(function(){return X})),r.d(t,"ResultProvider",(function(){
return K}));var s=r("3tO9"),n=r.n(s),c=r("QILm"),a=r.n(c),i=r("pVnL"),l=r.n(i),u=r("q1tI"),o=r.n(u),d=()=>{const e=(()=>{const e=Object(u.useRef)(!1);return Object(u.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),Object(u.useCallback)((()=>e.current),[])})();return Object(u.useCallback)((t=>new Promise(((r,s)=>{t.then((t=>{e()&&r(t)})).catch((t=>{e()&&s(t)}))}))),[e])};var b=()=>{const e=Object(u.useRef)(null);return Object(u.useCallback)((t=>{e.current&&e.current.cancel();const s=r("VdyV").a.from(t);return e.current=s,s.promise()}),[])};const p=({setState:e,searchItemSupplier:t,setAPIState:s,ufoExperience:n})=>{const c=d(),a=b(),{query:i}=Object(r("I8Iw").b)(),{filterDefinitions:l}=Object(r("Q8fx").b)(),o=Object(u.useRef)(i),p=Object(u.useRef)(l);return Object(u.useEffect)((()=>{o.current=i,p.current=l}),[i,l]),Object(u.useCallback)((l=>new Promise(((u,d)=>{s(r("xGY4").a.Loading),n.start(),a(c(t(l))).then((t=>{o.current===i?(n.success(),e(t),
Object(r("GPJg").a)(t)?s(r("xGY4").a.Success):s(r("xGY4").a.NoResult),u(t)):n.abort()})).catch((t=>{o.current===i?(t&&!t.isCancelled&&(e(r("tQiX").a),s(r("xGY4").a.Error),d(t)),n.failure()):n.abort()}))}))),[t,e,c,s,a,i,n])},y=e=>e.sections.map((e=>({results:e.searchResults.slice(0,(null==e?void 0:e.resultLimit)||10).map((t=>({containerId:t.containerId||"UNAVAILABLE",isRecentResult:!!t.isRecentResult,resultContentId:t.id,resultType:e.id}))),sectionId:e.id}))),f=(e,t,s,c)=>{if(s!==r("xGY4").b.PreQueryLoading)return;const a=y(c),i=Object(r("RWDu").z)(n()({actionSubjectId:r("RWDu").b.PREQUERY,resultCount:c.size||0,sectionCount:c.sections.length,results:a},t));switch(e){case r("xGY4").b.PreQueryNoResult:return i;case r("xGY4").b.PreQuerySuccess:if(a.length>0)return i}},m=(e,t,s,c)=>{const a=y(c);if(s!==r("xGY4").b.PostQueryLoading)return s!==r("xGY4").b.PreQuerySuccess&&s!==r("xGY4").b.PostQuerySuccess||e!==r("xGY4").b.PostQueryLoading||0===a.length?void 0:Object(r("RWDu").z)(n()({
actionSubjectId:r("RWDu").b.CACHED,resultCount:c.size||0,sectionCount:c.sections.length,results:a},t));switch(e){case r("xGY4").b.PostQueryNoResult:case r("xGY4").b.PostQuerySuccess||r("xGY4").b.PostQueryNoResult:return Object(r("RWDu").z)(n()({actionSubjectId:r("RWDu").b.POSTQUERY,resultCount:c.size||0,sectionCount:c.sections.length,results:a},t))}};function S(e){return{applied:e.map(((e,t)=>n()(n()({},e),{},{index:t}))).filter((e=>e.isChecked)).map((e=>({id:e.id,source:e.filterSource,index:e.index}))),recommendedIds:e.map((e=>({id:e.id,source:e.filterSource})))}}const h=e=>{let t={};return e.map((e=>{t=n()(n()({},t),{},{[e["@type"]]:S(e.store.availableFilters)})})),t},I=()=>{const{fireAnalyticsEvent:e}=Object(r("0VsR").a)(),{products:t,getActiveProduct:s}=Object(r("beQG").b)(),n=Object(r("qfuu").d)(),{isExpanded:c}=Object(r("PakA").b)();return[e,s(),c,t.length>0,h(n)]},Q=(e,t,r)=>{const s=Object(u.useRef)(),[n,c,a,i,l]=I();Object(u.useEffect)((()=>{
if(a&&c&&""!==c.id&&c.isDisplayed&&s.current){const a={activeProduct:null==c?void 0:c.id,isMultiProduct:i,filters:l},u=t(e,a,s.current,r);u&&Object.keys(u).length>0&&n(u)}s.current=e}),[e,a,n,i,c,r,t,l])},P=({setAPIState:e,setState:t,postQueryItemSupplier:s,id:n})=>{const c=Object(u.useRef)(new(r("bUw2").a)(`${n}-post-query-results-load`,{type:r("+xAG").b.Experience,performanceType:r("+xAG").a.InlineResult,platform:{component:r("UPCV").a}})),a=(()=>{const[e,t,s,n,c]=I();return Object(u.useCallback)((a=>i=>{const l=new Date;return a(i).then((a=>{const i=(new Date).getTime()-l.getTime();return e(Object(r("RWDu").u)({actionSubjectId:"postQuerySearchResults",timings:{postQueryRequestDurationMs:i},activeProduct:null==t?void 0:t.id,isExpanded:s,isMultiProduct:n,filters:c})),a}))}),[e,null==t?void 0:t.id,s,n,c])})(),i=Object(u.useMemo)((()=>a(s)),[s,a]);return p({setState:t,setAPIState:e,ufoExperience:c.current,searchItemSupplier:i})};var g=r("sEfC"),O=r.n(g),E=r("Y+p1"),v=r.n(E)
;const j=({debounceTime:e,query:t,analyticsInfo:s,filters:n,workspaces:c,sectionIds:a,isDisplayed:i,postQueryItemSupplier:l,setPostQueryItems:o,setPostQueryAPIState:d})=>{const b=Object(u.useRef)(i),p=Object(u.useRef)(void 0),y=Object(u.useRef)(n),[f,m,S]=(({debounceTime:e})=>{const[t,r]=Object(u.useState)(!1),s=Object(u.useMemo)((()=>O()((()=>{r(!0)}),e)),[e,r]);return[t,r,s]})({debounceTime:e});x({query:t,filters:n,setPostQueryAPIState:d,isDisplayed:i}),R({query:t,filters:n,setPostQueryItems:o,setPostQueryAPIState:d,isDisplayed:i,debouncedSetter:S,sectionIds:a});const{appDiscoveryContext:h}=Object(r("Bcz7").b)(),I=Object(u.useRef)(h);Object(u.useEffect)((()=>{(f||!1===b.current&&!0===i||!v()(I.current,h))&&t&&(t!==p.current||!v()(y,n))&&i&&a&&(p.current=t,y.current=n,I.current=h,l({query:t,filters:n,analyticsInfo:s,sectionIds:a,workspaces:c}).catch((e=>{})),m(!1)),b.current=i,t||(p.current="")}),[f,m,l,a,t,s,n,i,c,h])
},R=({query:e,filters:t,isDisplayed:s,setPostQueryItems:n,setPostQueryAPIState:c,debouncedSetter:a,sectionIds:i})=>{const l=Object(u.useRef)(e),o=Object(u.useRef)(t);Object(u.useEffect)((()=>{(l.current!==e||t.length>0&&!v()(o.current,t))&&e&&s&&i&&i.length>0&&(n(r("tQiX").a),c(r("xGY4").a.Loading),a()),l.current=e,o.current=t}),[e,s,i,n,c,a,l,t,o])},x=({query:e,isDisplayed:t,setPostQueryAPIState:s})=>{const n=Object(u.useRef)(e);Object(u.useEffect)((()=>{""===e&&t&&""!==n.current&&s(r("xGY4").a.Loading),n.current=e}),[e,t,s,n])},C=({id:e,debounceTime:t,query:s,analyticsInfo:n,filters:c,isPrefetchingEnabled:a,workspaces:i,onRetry:l,preQueryItemSupplier:o,postQueryItemSupplier:d,setPostQueryItems:b,setPostQueryAPIState:p})=>{const{getProduct:y}=Object(r("beQG").b)(),f=y(e),m=(null==f?void 0:f.isDisplayed)||!1,S=Object(u.useMemo)((()=>(null==f?void 0:f.sectionIds)||[]),[f]);j({isDisplayed:m,debounceTime:t,postQueryItemSupplier:d,query:s,analyticsInfo:n,filters:c,sectionIds:S,
setPostQueryItems:b,setPostQueryAPIState:p,workspaces:i}),(({query:e,isPrefetchingEnabled:t,sectionIds:r,preQueryItemSupplier:s,isDisplayed:n,workspaces:c})=>{Object(u.useEffect)((()=>{""===e&&(!0===t||!0===n)&&r&&r.length>0&&s({sectionIds:r,workspaces:c}).catch((e=>{}))}),[t,n,r,s,e,c])})({isDisplayed:m,preQueryItemSupplier:o,query:s,sectionIds:S,isPrefetchingEnabled:a,workspaces:i});const h=(({preQueryItemSupplier:e,onRetry:t,sectionIds:r,workspaces:s})=>Object(u.useCallback)((()=>{e({sectionIds:r,workspaces:s}),null==t||t()}),[t,e,r,s]))({preQueryItemSupplier:o,onRetry:l,sectionIds:S,isDisplayed:m,workspaces:i}),I=(({postQueryItemSupplier:e,onRetry:t,query:r,analyticsInfo:s,filters:n,sectionIds:c,workspaces:a})=>Object(u.useCallback)((()=>{e({query:r,analyticsInfo:s,sectionIds:c,filters:n,workspaces:a}),null==t||t()}),[t,e,c,r,s,n,a]))({postQueryItemSupplier:d,onRetry:l,query:s,analyticsInfo:n,filters:c,sectionIds:S,isDisplayed:m,workspaces:i});return{onRetryPreQuery:h,
onRetryPostQuery:I}},k={preQuery:{[r("xGY4").a.Error]:r("xGY4").b.PreQueryError,[r("xGY4").a.Loading]:r("xGY4").b.PreQueryLoading,[r("xGY4").a.NoResult]:r("xGY4").b.PreQueryNoResult,[r("xGY4").a.Success]:r("xGY4").b.PreQuerySuccess},postQuery:{[r("xGY4").a.Error]:r("xGY4").b.PostQueryError,[r("xGY4").a.Loading]:r("xGY4").b.PostQueryLoading,[r("xGY4").a.NoResult]:r("xGY4").b.PostQueryNoResult,[r("xGY4").a.Success]:r("xGY4").b.PostQuerySuccess}},G=({setPreQueryItems:e,setPostQueryItems:t,preQueryItemSupplier:s,postQueryItemSupplier:n,id:c,isPrefetchingEnabled:a=!1,debounceTime:i=250,onRetry:l,workspaces:o})=>{const{query:d,queryVersion:b}=Object(r("I8Iw").b)(),y=Object(r("/4eM").c)(),f=(e=>{const{filterDefinitions:t}=Object(r("Q8fx").b)();let s=[];const n=t[e];return void 0!==n&&n.forEach((e=>{if(e.mapSelectionToAppliedValue){const t=e.mapSelectionToAppliedValue();t&&s.push(t)}else{let t=e.store.availableFilters.filter((e=>e.isChecked)).map((e=>e.id))
;"sites"===e["@type"]&&0===t.length&&(t=e.store.availableFilters.slice(0,3).map((e=>e.id))),t.length>0&&s.push({"@type":e["@type"],[e.fieldName]:t})}})),s})(c),[m,S]=Object(u.useState)(r("xGY4").a.Loading),[h,I]=Object(u.useState)(r("xGY4").a.Loading),Q=(({preQueryItemSupplier:e,setAPIState:t,setState:s,id:n})=>{const[c]=Object(u.useState)(new(r("Jko9").a)(e)),a=Object(u.useCallback)((e=>c.getAsync(e).value),[c]),i=Object(u.useRef)(new(r("6uMD").a)(`${n}-pre-query-results-load`,{type:r("+xAG").b.Experience,performanceType:r("+xAG").a.InlineResult,platform:{component:r("UPCV").a}}));return p({setState:s,setAPIState:t,searchItemSupplier:a,ufoExperience:i.current})})({setAPIState:S,preQueryItemSupplier:s,setState:e,id:c}),g=P({setAPIState:I,setState:t,postQueryItemSupplier:n,id:c}),{onRetryPreQuery:O,onRetryPostQuery:E}=C({id:c,query:d,analyticsInfo:{queryVersion:b,searchSessionId:y},filters:f,isPrefetchingEnabled:a,preQueryItemSupplier:Q,postQueryItemSupplier:g,debounceTime:i,
setPostQueryItems:t,onRetry:l,setPostQueryAPIState:I,workspaces:o});let v;return v=""!==d?k.postQuery[h]:k.preQuery[m],{state:v,onRetryPreQuery:O,onRetryPostQuery:E}};var w=r("HsY8");const Y=["retainHeight","children"],L=e=>{let{retainHeight:t,children:r}=e,s=a()(e,Y);const n=Object(u.useRef)(void 0),c=Object(u.useRef)(null);if(t){var i,d;const e=null===(i=c.current)||void 0===i||null===(d=i.getBoundingClientRect())||void 0===d?void 0:d.height;n.current=e}Object(u.useEffect)((()=>{var e,t;const r=null===(e=c.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height;n.current=r}),[]);const b=t&&n.current;return o.a.createElement(w.p,l()({shouldFixMinimumHeight:b,minimumHeight:n.current,ref:c},s),r)};var q=r("NluS"),D=r.n(q);const A=({filterType:e,store:t,loadFilterOptions:s,sectionLabel:n,findMoreLabel:c,maxSelectable:a,filterConfig:i})=>{var l
;const{formatMessage:d}=Object(r("3NU0").a)(),{fireAnalyticsEvent:b}=Object(r("0VsR").a)(),{availableFilters:p,updateFilter:y,addFilters:f,isLoading:m}=t,S=(null==i?void 0:i.usePreloadedOptions)||!1,h=!(null!=i&&i.hideIcon),I=(null==i?void 0:i.filterOptionIconShape)||"square",Q=p.map((e=>({label:o.a.createElement(r("Zv/Q").a,{label:e.label,iconProps:{src:e.avatarUrl,appearance:null==i?void 0:i.filterOptionIconShape}}),value:e}))),P=Q.filter((e=>e.value.isVisible)),g=Object(u.useCallback)(((e,t,r)=>{y(e,r)}),[y]),O=Object(u.useCallback)((({value:t})=>{f([t]),y(t.id,!0),b(Object(r("RWDu").j)({filterId:t.id,filterSource:r("diJP").a.EXTERNAL,filterType:e}))}),[f,y,b,e]),E=D()((e=>s(e)),250),v=Object(u.useCallback)((({avatarUrl:e,name:t})=>{if(h)return o.a.createElement(r("PkeC").a,{borderColor:"transparent",src:e,appearance:I,size:"small",name:t})
}),[h,I]),j=p.filter((e=>e.isChecked)),R=Q.filter((e=>!e.value.isVisible)),x=e=>Promise.resolve(R.filter((t=>-1!==t.value.label.indexOf(e.trim().toLowerCase())))),C=!!a&&j.length===a,k=(t=!1)=>P.map((({value:s})=>{var n;return o.a.createElement(r("kXLL").a,{value:s.id,filterType:e,icon:v(s),label:s.label,onChange:g,isChecked:s.isChecked,filterSource:s.filterSource,isDisabled:C&&!s.isChecked,variant:w.m.CHECKBOX,LabelComponent:null!==(n=null==i?void 0:i.labelComponent)&&void 0!==n?n:t?w.e:w.g})})),G=()=>!(S&&0===R.length)&&o.a.createElement(w.h,{placeholderText:c,addFilter:O,defaultOptions:R||[],loadOptions:S?x:E,buttonText:d(r("SM7q").a.show_more_filters),filterComponent:w.a,loadingMessage:()=>d(r("SM7q").a.loading_filters),noOptionsMessage:()=>d(r("SM7q").a.no_options_filters),isDisabled:C});return o.a.createElement(o.a.Fragment,null,(!(null!=i&&i.filterGroupedBy)||"column"===(null==i?void 0:i.filterGroupedBy))&&o.a.createElement(w.c,{title:n,isLoading:m,
avatarShape:null!==(l=null==i?void 0:i.filterOptionIconShape)&&void 0!==l?l:"circle"},k(!0),G()),"row"===(null==i?void 0:i.filterGroupedBy)&&o.a.createElement(w.s,{title:n,isLoading:!1},k(!1),G()))},T=Object(u.lazy)((()=>r.e("@atlaskit-internal_product-search-dialog/async-chunk/feedback-collector").then(r.bind(null,"pmbL"))));var F=()=>o.a.createElement(u.Suspense,{fallback:o.a.createElement(r("1JDK").a,{onClick:()=>{}})},o.a.createElement(T,null));const M=o.a.lazy((()=>r.e("@atlaskit-internal_@atlassian/product-search-dialog/async-chunk/static-select-filter").then(r.bind(null,"bQAo")).then((({StaticSelectFilter:e})=>({default:e}))))),V=({productState:e})=>{var t;const{query:s}=Object(r("I8Iw").b)(),{resetSearchSession:c}=Object(r("wjCP").b)(),{getActiveProduct:a}=Object(r("beQG").b)(),i=a(),d=null==i?void 0:i.id,b=Object(r("qfuu").d)(),p=Object(r("qfuu").a)(),y=b.find((e=>e["@type"]===r("H38n").c));y&&(y.filterConfig=n()(n()({},y.filterConfig),{},{hideIcon:!0,usePreloadedOptions:!0}))
;const f=b.filter((e=>e["@type"]!==r("H38n").c));if(!d||!b.length)return null;const m=(null==i||null===(t=i.generateAdvancedSearchUrl)||void 0===t?void 0:t.call(i,s))||"",S=!(null==i||!i.showViewAllFiltersLink);switch(e){case r("xGY4").b.PostQueryLoading:case r("xGY4").b.PostQuerySuccess:case r("xGY4").b.PostQueryNoResult:case r("xGY4").b.PostQueryError:return o.a.createElement(w.H,null,!!y&&o.a.createElement(A,l()({filterType:y["@type"]},y,{maxSelectable:5})),f.map((e=>e.uiVariant===r("H38n").b.STATIC_SELECT?o.a.createElement(u.Suspense,{fallback:null},o.a.createElement(M,{filterType:e["@type"],filterStore:e.store,sectionTitle:e.sectionLabel})):o.a.createElement(A,l()({filterType:e["@type"]},e)))),!y&&S&&o.a.createElement(r("bpEK").a,{isLoading:!1,href:m,query:s,selectedFiltersCount:p,onClick:c}),o.a.createElement(r("Li/U").a,null,o.a.createElement(F,null)));default:return null}
},z=({productState:e,preQueryItems:t,postQueryItems:s,onRetryPreQuery:n,onRetryPostQuery:c,urlGeneratorForNoResultsScreen:a=(()=>""),preQuerySectionTitleGenerator:i,linkComponent:l,children:d,searchFooterLabel:b})=>{const p=Object(r("wz8l").a)(),y=Object(r("qfuu").c)(),{query:f}=Object(r("I8Iw").b)(),{autocorrectionEnabled:m}=Object(r("zw16").e)(),{correction:S}=Object(r("oELr").b)(),h=d&&"function"==typeof d?d({query:f,productState:e,linkComponent:l,preQueryItems:t,postQueryItems:s,onRetryPreQuery:n,onRetryPostQuery:c,urlGeneratorForNoResultsScreen:a,preQuerySectionTitleGenerator:i}):null,I=(null==h?void 0:h.Header)||(()=>o.a.createElement(o.a.Fragment,null)),Q=(null==h?void 0:h.Footer)||(()=>o.a.createElement(r("JjnE").a,{urlGeneratorForNoResultsScreen:a,linkComponent:l,productState:e,searchFooterLabel:b})),P=Object(u.useCallback)((()=>{switch(e){case r("xGY4").b.PostQueryError:return o.a.createElement(r("GPXc").a,{onRetry:c});case r("xGY4").b.PostQueryLoading:
return o.a.createElement(r("qJPb").a,{searchItems:s,screen:"cachedResults",forceHideResultCount:!0,linkComponent:l,isCollapsed:y||p,productState:r("xGY4").b.PostQueryLoading},o.a.createElement(r("/lqG").a,null));case r("xGY4").b.PostQueryNoResult:return o.a.createElement(r("uEdj").a,{urlGeneratorForNoResultsScreen:a});case r("xGY4").b.PostQuerySuccess:return o.a.createElement(o.a.Fragment,null,o.a.createElement(r("qJPb").a,{searchItems:s,forceHideResultCount:m&&!!S&&S.length>0,linkComponent:l,screen:"postQuerySearchResults",productState:r("xGY4").b.PostQuerySuccess,isCollapsed:y||p,renderSectionViewAll:!0}));case r("xGY4").b.PreQueryError:return o.a.createElement(r("TFtj").a,null);case r("xGY4").b.PreQueryLoading:return o.a.createElement(r("/lqG").a,null);case r("xGY4").b.PreQueryNoResult:return o.a.createElement(r("tCXd").a,null);case r("xGY4").b.PreQuerySuccess:return o.a.createElement(r("qJPb").a,{searchItems:t,
generateSectionTitle:(e,t)=>(null==i?void 0:i(e))||t.formatMessage(r("SM7q").a.recently_viewed_title,{sectionTitle:e.title}),linkComponent:l,screen:"preQuerySearchResults",forceHideResultCount:!0,productState:r("xGY4").b.PreQuerySuccess,isCollapsed:p})}}),[S,m,e,t,s,l,c,i,a,y,p]),g=Object(u.useMemo)((()=>(null==h?void 0:h.Body)||P),[h,P]),O=e===r("xGY4").b.PostQueryLoading||e===r("xGY4").b.PreQueryLoading;return o.a.createElement(L,{retainHeight:O},o.a.createElement(w.y,null,o.a.createElement(w.n,null,o.a.createElement(I,null),g()),y&&o.a.createElement(V,{productState:e})),o.a.createElement(Q,null))};var N=({productState:e,preQueryItems:t,postQueryItems:s,children:n})=>((e=>{const{setAdditionalAnalyticsContext:t}=Object(r("I8Iw").b)();Object(u.useEffect)((()=>{const s=e===r("xGY4").b.PreQueryLoading||e===r("xGY4").b.PostQueryLoading;t({type:"isLoading",value:s})}),[e,t])})(e),((e,t,r)=>{Q(e,f,t),Q(e,m,r)})(e,t,s),o.a.createElement(o.a.Fragment,null,n)),_=r("qPyV"),H=r.n(_)
;const U=({postQueryItems:e,preQueryItems:t,children:s})=>{const{query:c}=Object(r("I8Iw").b)(),a=Object(r("qfuu").b)(),i=Object(u.useMemo)((()=>((e,t,r=3)=>{if(!e.sections[0])return e;const s=e.sections[0].searchResults.filter((e=>e.title.toLowerCase().includes(t.toLowerCase()))).slice(0,r);return{size:s.length,sections:[n()(n()({},e.sections[0]),{},{searchResults:s})]}})(t,c,a?0:3)),[t,c,a]),l=Object(u.useMemo)((()=>e?((e,t)=>{var r,s;if(!e.sections[0]||0===(null===(r=e.sections[0])||void 0===r?void 0:r.searchResults.length))return t;if(!t.sections[0]||0===(null===(s=t.sections[0])||void 0===s?void 0:s.searchResults.length))return e;const c=[...e.sections[0].searchResults.map((e=>n()(n()({},e),{},{isRecentResult:!0}))),...t.sections[0].searchResults],a=H()(c,(e=>e.id)),i=[n()(n()({},t.sections[0]),{},{searchResults:a})];return{size:i.reduce(((e,t)=>e+t.searchResults.length),0),sections:i}})(i,e):i),[i,e]);return s({searchItems:{size:l.size,
sections:l.sections.length>0?[l.sections[0]]:[]}})},W=["id","children"],J=["children","id","PLS_DONT_USE_skipDefaultStateManagement"],B=e=>{let{id:t,children:s}=e,c=a()(e,W);const[i,d]=Object(u.useState)(r("tQiX").a),[b,p]=Object(u.useState)(r("tQiX").a),{state:y,onRetryPreQuery:f,onRetryPostQuery:m}=G(n()({id:t,setPreQueryItems:d,setPostQueryItems:p},c));return o.a.createElement(r("Sqx2").a,{id:t},o.a.createElement(U,{postQueryItems:b,preQueryItems:i},(({searchItems:e})=>{const t={sections:[...e.sections,...b.sections.slice(1)],size:b.size};return o.a.createElement(N,{postQueryItems:t,preQueryItems:i,productState:y},o.a.createElement(z,l()({},c,{preQueryItems:i,postQueryItems:t,productState:y,onRetryPreQuery:f,onRetryPostQuery:m}),s))})))},X=({children:e,isPrefetchingEnabled:t,preQueryItemSupplier:r})=>(Object(u.useEffect)((()=>{t&&r({sectionIds:[]})}),[t,r]),o.a.createElement(o.a.Fragment,null,e)),K=e=>{let{children:t,id:s,PLS_DONT_USE_skipDefaultStateManagement:n}=e,c=a()(e,J)
;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement(X,{isPrefetchingEnabled:c.isPrefetchingEnabled,preQueryItemSupplier:c.preQueryItemSupplier},o.a.createElement(r("Sqx2").a,{id:s}," ",t," ")):o.a.createElement(B,l()({id:s},c),t))}},"Li/U":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("DZdY");const n=Object(s.a)("div",{target:"e1hsvgsq0"})("padding-top:",3*Object(r("7w+A").gridSize)(),"px;")},bpEK:function(e,t,r){"use strict";var s=r("QILm"),n=r.n(s),c=r("pVnL"),a=r.n(c),i=r("q1tI"),l=r.n(i),u=r("DZdY"),o=r("HsY8");const d=Object(u.a)(o.l,{target:"e1ejhb1b0"
})("display:block;text-align:center;border-radius:3px;color:","var(--ds-text-subtle, #42526E)",";cursor:pointer;padding:",.75*Object(r("7w+A").gridSize)(),"px;background-color:","var(--ds-background-neutral, #F4F5F7)",";transition:background 0.1s ease-out,box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);&:hover{color:","var(--ds-text-subtle, #42526E)",";background-color:","var(--ds-background-neutral-hovered, #EBECF0)",";text-decoration:none;transition:background 0s ease-out,box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);}:visited{color:","var(--ds-text-subtle, #42526E)",";}"),b=["linkComponent","href","selectedFiltersCount","isLoading","onClick"];t.a=e=>{let{linkComponent:t,href:s,selectedFiltersCount:c,isLoading:u,onClick:o}=e,p=n()(e,b);const{fireAnalyticsEvent:y}=Object(r("0VsR").a)(),f=Object(i.useCallback)((e=>{const t=Object(r("Qg+c").a)(e);null==o||o(),y(Object(r("RWDu").p)({trigger:t,selectedFiltersCount:c}))}),[y,c,o]);return u?null:l.a.createElement(d,a()({},p,{
linkComponent:t,href:s,onClick:f}),l.a.createElement(r("3e7Q").a,r("SM7q").a.more_filters))}},kXLL:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var s=r("QILm"),n=r.n(s),c=r("pVnL"),a=r.n(c),i=r("q1tI"),l=r.n(i),u=r("HsY8");const o=["onChange","filterType","filterSource","isDisabled","smartValue","allOptions","collabGraphSessionId","variant"],d=e=>{let{onChange:t,filterType:s,filterSource:c,isDisabled:d=!1,smartValue:b,allOptions:p,collabGraphSessionId:y="",variant:f}=e,m=n()(e,o);const{fireAnalyticsEvent:S}=Object(r("0VsR").a)(),h=Object(i.useCallback)(((e,n)=>{n?(S(Object(r("RWDu").j)({filterId:e,filterSource:c,filterType:s})),b&&p&&S(Object(r("RWDu").J)(b,p,"quickSearch",y))):S(Object(r("RWDu").k)({filterId:e,filterSource:c,filterType:s})),null==t||t(e,s,n)}),[t,s,S,c,b,p,y]);return l.a.createElement(u.f,a()({},m,{onChange:h,isDisabled:d,variant:f}))}},qfuu:function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return n})),
r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return a}));const s=()=>{var e;const{getActiveProduct:t}=Object(r("beQG").b)(),s=t(),{filterDefinitions:n}=Object(r("Q8fx").b)();return!!(s&&(null===(e=n[s.id])||void 0===e?void 0:e.length)>0)},n=()=>{const{getActiveProduct:e}=Object(r("beQG").b)(),t=e(),{filterDefinitions:s}=Object(r("Q8fx").b)();return t&&s[t.id]||[]},c=()=>{const e=n();let t=!1;return e.forEach((e=>{e.store.availableFilters.forEach((e=>{e.isChecked&&"default"!==e.id&&(t=!0)}))})),t},a=()=>n().filter((e=>"sites"!==e["@type"])).reduce(((e,t)=>t.store.availableFilters.filter((e=>e.isChecked)).length+e),0)},wz8l:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("HsY8");const n=()=>window.innerWidth<=s.K}}]);try{window.__jsEvalStop("result-provider.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-internal_@atlassian/product-search-dialog/extensible/async/result-provider.9d65d3279388a9240186.8.js.map