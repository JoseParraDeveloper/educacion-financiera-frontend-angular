try{window.performance.mark("create-payloads.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["create-payloads"],{yAeC:function(e,t,n){"use strict";n.r(t),n.d(t,"getPerformanceForRoot",(function(){return N})),n.d(t,"createSegmentPayload",(function(){return B})),n.d(t,"createPayloads",(function(){return P}));var r=n("3tO9"),a=n.n(r),o=n("TEf6"),s=n.n(o);const i=e=>{const{type:t,name:n,labelStack:r}=e;return r&&r.length>0?`${t}/${r.join("/")}/${n}`:`${t}/${n}`},c=e=>a()({startTime:Object(n("O4zK").a)(e.start),duration:Object(n("O4zK").a)(e.end-e.start)},e.size?{size:e.size}:{}),l=(e,t)=>{const r=((e,t)=>{const n={};for(let r=0;r<e.length;r++){const a=e[r];if(a.start<t)continue;const o=i(a),s=n[o];s&&s.start<a.start||(n[o]=a)}return n})(e,t);return((e,t)=>{const r={},o=Object.keys(e);for(let s=0;s<o.length;s++){const i=o[s],l=e[i],u=a()(a()({},l),{},{start:l.start-t,end:l.end-t});r[i]=c(u);const{type:d}=u,m=r[d];if(m){
const e=Math.min(m.startTime,r[i].startTime),t=Math.max(m.startTime+m.duration,u.end);m.startTime=Object(n("O4zK").a)(e),m.duration=Object(n("O4zK").a)(t-e)}else r[d]=c(u)}return r})(r,t)},u=e=>e.reduce(((e,t)=>{const n=i(t),r=e[n];return void 0!==r?r.push(c(t)):e[n]=[c(t)],e}),{}),d=e=>"press"===e?"inline-result":"transition"===e?"page-load":e.replace(/_/g,"-"),m=e=>`ufo-${e.replace(/_/g,"-")}`,p=(e,t)=>`jira.fe.${d(e)}.${m(t)}`,g=e=>"transition"===e?e:"initial",v=(e,t)=>null!=e&&null!=t&&e.every(((e,n)=>e===t[n])),f=(e,t,n)=>0===e.length?Math.round(t-n):Math.round(Math.max(...e.map((e=>e.end)))-n),b=(e,t)=>{const r={};return t.length>0&&"number"==typeof t[0].stopTime&&(r[`apdex_${t[0].key}`]={startTime:Object(n("O4zK").a)(e),duration:Object(n("O4zK").a)(t[0].stopTime-e)}),r},y=(e,t,r)=>{const a={},o=r?`${r}/`:"",s=null==t?void 0:t.lifecycle.slice().sort(((e,t)=>e.time>t.time?1:-1));return null==s||s.forEach((({time:t,type:r})=>{const s=Object(n("O4zK").a)(t-e),i={startTime:0,
duration:s};s>=0&&(a[`${o}${r}_sync`]=a[`${o}${r}_sync`]||i,a[`${o}${r}_sync`].duration!==s&&(a[`${o}${r}_async`]=i))})),a},h=e=>{var t,r;if(Object(n("qjgh").a)("segment_breakdown_timings"))return{};if(!e)return;let o={};const s=e.end||(null===(t=e.lifecycle)||void 0===t||null===(r=t.find((e=>"render"===e.type)))||void 0===r?void 0:r.time);let i=0;e.segments.forEach((e=>{var t,r,s;const c=`segments/${null===(t=e.labelStack)||void 0===t?void 0:t.join("/")}`,l=e.end||(null===(r=e.lifecycle)||void 0===r||null===(s=r.find((e=>"render"===e.type)))||void 0===s?void 0:s.time);l&&(l>i&&(i=l),o[`${c}`]={startTime:0,duration:Object(n("O4zK").a)(l)},o=a()(a()({},o),y(0,e,c)))}));const c=s||0,l=`segments/${e.name}`;return o[l]={startTime:0,duration:Object(n("O4zK").a)(c-0)},o=a()(a()({},o),y(0,e,l)),o.segments={startTime:0,duration:Object(n("O4zK").a)(i-0)},o},k=(e,t)=>Object(n("owDO").a)(e,t),O=(e,t)=>{var r;return null!==(r=n("Ynez").b(e,t))&&void 0!==r?r:void 0
},j=e=>n("k6XK").b(e),w=e=>"page_load"===e?n("xbga").d():void 0,_=e=>"page_load"===e?n("xbga").c():void 0,x=e=>"page_load"===e?n("xbga").e():{},T=e=>((e,t,n,r,a)=>{var o;let s=null===(o=e.find((e=>"fmp"===e.name)))||void 0===o?void 0:o.time;s||"page_load"!==t||(s=a());const i="number"==typeof s?s:r;return Math.round(i-n)})(e.marks,e.type,e.start,e.end,n("xbga").b);const $=e=>e.map((e=>a()(a()({},e),{},{time:Object(n("O4zK").a)(e.time)})));function M(e){const{metaData:t,errors:n,holds:r,apdex:o,marks:s,segmentMetrics:i,spans:c,labelStack:l,featureFlags:d,reactProfilerTimings:m,requestInfo:p}=e;return a()(a()({},t),{},{errors:n,holds:Array.from(r),apdex:o,reactProfilerTimings:m,requestInfo:p,marks:$(s),segmentMetrics:i,spans:u(c),labelStack:l,featureFlags:d})}const z=(e,t,n)=>({actionSubject:"experience",action:"measured",source:"measured",tags:["observability"],attributes:{properties:e,performance:t,task:n}});function K(e,t,n){return a()(a()({"experience:startTime":Math.round(n),
"experience:name":m(e),"experience:key":p(t,e)},(()=>{const e={};if(null!=navigator.userAgent){const t=s.a.getParser(navigator.userAgent);e["event:browser:name"]=t.getBrowserName(),e["event:browser:version"]=t.getBrowserVersion()}return null!=navigator.hardwareConcurrency&&(e["event:cpus"]=navigator.hardwareConcurrency),null!=navigator.deviceMemory&&(e["event:memory"]=navigator.deviceMemory),null!=navigator.connection&&(e["event:network:effectiveType"]=navigator.connection.effectiveType,e["event:network:rtt"]=navigator.connection.rtt,e["event:network:downlink"]=navigator.connection.downlink),e})()),function(e){return{"ssr:success":w(e),"ssr:featureFlags":_(e)}}(t))}const S=(e,t)=>{if(e&&e.name===t)return e;for(let n=0;n<((null==e?void 0:e.segments)||[]).length;n++){const r=((null==e?void 0:e.segments)||[])[n],a=S(r,t);if(a)return a}},E=(e,t)=>({ttai:{startTime:e,duration:Object(n("O4zK").a)(t-e)}}),N=(e,t)=>{
const{start:n,end:r,type:o,ufoName:s,spans:i,apdex:c,segmentMetrics:u}=e,m=((e,t,n)=>{if(void 0===t)return n;const r=S(e,t.segment);var a,o;return r&&null!==(a=null===(o=r.lifecycle.find((e=>e.type===t.lifecycleMarker)))||void 0===o?void 0:o.time)&&void 0!==a?a:n})(u,t,r);let g=null;return g="press"===o?((e,t)=>({"metric:response":Math.round(t-e),"metric:result":Math.round(t-e),"metric:response:histogramBuckets":"50_100_150_200_300_500","metric:result:histogramBuckets":"100_200_500_1000_1500"}))(n,m):a()({"metric:fmp":T(e)},((e,t)=>({"metric:tti":Math.round(t-e),"metric:duration":Math.round(t-e)}))(n,m)),a()({"event:key":p(o,s),"event:type":d(o),"timings:app":a()(a()(a()(a()(a()(a()({},E(n,r)),l(i,n)),x(o)),b(n,c)),y(n,u)),h(u)),"timings:bundleEval":j(n),"timings:resource":O(n,r),"custom:metadata":M(e)},g)},B=(e,t,n,r)=>{const{name:o,labelStack:s,start:i,end:c}=r;if(void 0!==i&&void 0!==c){const d=((e,t)=>({"experience:startTime":Math.round(t),"experience:name":m(e),
"experience:key":p("page-segment-load",e)}))(o,i),g=((e,t)=>e.filter((e=>v(t,e.labelStack))).map((e=>{var n;return a()(a()({},e),{},{labelStack:(null===(n=e.labelStack)||void 0===n?void 0:n.slice(null==t?void 0:t.length))||null})})))(e,s),b=((e,t)=>e.filter((e=>v(t,e.labelStack))))(t,s),h=((e,t,n,r,o,s,i)=>({"event:key":p("page-segment-load",e),"event:type":"page-segment-load","metric:tti":f(n,s,o),"timings:app":a()(a()({},l(n,o)),y(o,i)),"custom:metadata":{marks:$(r),labelStack:t,spans:u(n),segmentMetrics:i}}))(o,s,g,b,i,c,r),k=m(o);return z(a()(a()({},n),d),h,k)}};function P(e,t,r={}){const{ufoName:o,rate:s,type:i,start:c,end:l,abortReason:u,routeName:d}=t,p=r[d||""],v=function(e,t){var r;const{ufoName:a,rate:o,type:s,start:i,end:c,abortReason:l,routeName:u}=e;return{"custom:ufoKey":a,"custom:rate":o,"event:source":{name:"ufo/web",version:"1.0.0"},"event:schema":"1.0.0","event:product":"jira","event:region":Object(n("vlh1").a)("ajs-region")||"unknown",
"event:hostname":(null===(r=window.location)||void 0===r?void 0:r.hostname)||"unknown","event:route":u,"experience:status":l?"ABORTED":"SUCCEEDED","experience:abortReason":l,"experience:spanId":t,"experience:pageVisible":k(i,c),"experience:pageLoadType":g(s)}}({ufoName:o,rate:s,type:i,start:c,end:l,abortReason:u,routeName:d},e),f=K(o,i,c),b=z(a()(a()({},v),f),N(t,p),m(o)),y=function(e,t){if(Object(n("qjgh").a)("nested_segment_payloads"))return[];const{spans:r,marks:a,segmentsById:o}=e,s=[];return o.forEach((n=>{if(30===s.length||((e,t)=>e===t)(n,e.segmentMetrics))return;const o=B(r,a,t,n);o&&s.push(o)})),s}(t,v);return[b].concat(y)}}}]);try{window.__jsEvalStop("create-payloads.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/create-payloads.dc56ffb95baeb05643a3.8.js.map